

<!DOCTYPE html>
<html lang="zh-CN" data-default-color-scheme=auto>



<head>
  <meta charset="UTF-8">
  <link rel="apple-touch-icon" sizes="76x76" href="http://wangpeng-imgsubmit.oss-cn-hangzhou.aliyuncs.com/img/20210927131547.jpg">
  <link rel="icon" href="http://wangpeng-imgsubmit.oss-cn-hangzhou.aliyuncs.com/img/20210927131547.jpg">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="description" content="该博客使用Hexo+Github创建">
  <meta name="author" content="huanfenz">
  <meta name="keywords" content="">
  <meta name="description" content="Linux   第1章 课程简介 第2章 Linux简介 第3章 VM和Linux安装 VM安装 VM破解 CentOS的安装 虚拟机的相关操作 虚拟机克隆 虚拟机快照 虚拟机的迁移和删除   安装vmtools 设置共享文件夹   第4章 目录结构 具体的目录结构   第5章 远程登录 Xshell和Xftp安装 Xshell和Xftp配置 Xftp中文乱码问题   第6章 Vi和Vim编辑器">
<meta property="og:type" content="article">
<meta property="og:title" content="Linux学习笔记">
<meta property="og:url" content="https://huanfenz.top/2021/09/25/Linux%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/index.html">
<meta property="og:site_name" content="huanfenz的博客">
<meta property="og:description" content="Linux   第1章 课程简介 第2章 Linux简介 第3章 VM和Linux安装 VM安装 VM破解 CentOS的安装 虚拟机的相关操作 虚拟机克隆 虚拟机快照 虚拟机的迁移和删除   安装vmtools 设置共享文件夹   第4章 目录结构 具体的目录结构   第5章 远程登录 Xshell和Xftp安装 Xshell和Xftp配置 Xftp中文乱码问题   第6章 Vi和Vim编辑器">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://wangpeng-imgsubmit.oss-cn-hangzhou.aliyuncs.com/img/20210917175431.png">
<meta property="og:image" content="http://wangpeng-imgsubmit.oss-cn-hangzhou.aliyuncs.com/img/20210926211538.png">
<meta property="og:image" content="http://wangpeng-imgsubmit.oss-cn-hangzhou.aliyuncs.com/img/20210919194600.png">
<meta property="og:image" content="http://wangpeng-imgsubmit.oss-cn-hangzhou.aliyuncs.com/img/20210922180946.png">
<meta property="og:image" content="https://img-blog.csdn.net/20170325161428570?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvc2luYXRfMzYxMDEzNTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast">
<meta property="og:image" content="http://wangpeng-imgsubmit.oss-cn-hangzhou.aliyuncs.com/img/20210922185039.png">
<meta property="og:image" content="http://wangpeng-imgsubmit.oss-cn-hangzhou.aliyuncs.com/img/20210926182742.png">
<meta property="og:image" content="http://wangpeng-imgsubmit.oss-cn-hangzhou.aliyuncs.com/img/20210926182748.png">
<meta property="og:image" content="http://wangpeng-imgsubmit.oss-cn-hangzhou.aliyuncs.com/img/20210926182822.png">
<meta property="og:image" content="http://wangpeng-imgsubmit.oss-cn-hangzhou.aliyuncs.com/img/20210926183340.png">
<meta property="og:image" content="http://wangpeng-imgsubmit.oss-cn-hangzhou.aliyuncs.com/img/20210926183707.png">
<meta property="og:image" content="http://wangpeng-imgsubmit.oss-cn-hangzhou.aliyuncs.com/img/20210926183724.png">
<meta property="og:image" content="http://wangpeng-imgsubmit.oss-cn-hangzhou.aliyuncs.com/img/20210926183736.png">
<meta property="og:image" content="http://wangpeng-imgsubmit.oss-cn-hangzhou.aliyuncs.com/img/20210926183829.png">
<meta property="og:image" content="http://wangpeng-imgsubmit.oss-cn-hangzhou.aliyuncs.com/img/20210926184024.png">
<meta property="og:image" content="http://wangpeng-imgsubmit.oss-cn-hangzhou.aliyuncs.com/img/20210926184103.png">
<meta property="og:image" content="http://wangpeng-imgsubmit.oss-cn-hangzhou.aliyuncs.com/img/20210926184140.png">
<meta property="og:image" content="http://wangpeng-imgsubmit.oss-cn-hangzhou.aliyuncs.com/img/20210926184312.png">
<meta property="og:image" content="http://wangpeng-imgsubmit.oss-cn-hangzhou.aliyuncs.com/img/20210926184332.png">
<meta property="og:image" content="http://wangpeng-imgsubmit.oss-cn-hangzhou.aliyuncs.com/img/20210926184401.png">
<meta property="og:image" content="http://wangpeng-imgsubmit.oss-cn-hangzhou.aliyuncs.com/img/20210926184451.png">
<meta property="og:image" content="http://wangpeng-imgsubmit.oss-cn-hangzhou.aliyuncs.com/img/20210926184549.png">
<meta property="og:image" content="http://wangpeng-imgsubmit.oss-cn-hangzhou.aliyuncs.com/img/20210926184618.png">
<meta property="og:image" content="http://wangpeng-imgsubmit.oss-cn-hangzhou.aliyuncs.com/img/20210926184630.png">
<meta property="og:image" content="http://wangpeng-imgsubmit.oss-cn-hangzhou.aliyuncs.com/img/20210926184644.png">
<meta property="og:image" content="http://wangpeng-imgsubmit.oss-cn-hangzhou.aliyuncs.com/img/20210926184652.png">
<meta property="og:image" content="http://wangpeng-imgsubmit.oss-cn-hangzhou.aliyuncs.com/img/20210926184824.png">
<meta property="og:image" content="http://wangpeng-imgsubmit.oss-cn-hangzhou.aliyuncs.com/img/20210926192305.png">
<meta property="og:image" content="http://wangpeng-imgsubmit.oss-cn-hangzhou.aliyuncs.com/img/20210926193648.png">
<meta property="og:image" content="http://wangpeng-imgsubmit.oss-cn-hangzhou.aliyuncs.com/img/20210926205634.png">
<meta property="og:image" content="http://wangpeng-imgsubmit.oss-cn-hangzhou.aliyuncs.com/img/20210926194804.png">
<meta property="og:image" content="http://wangpeng-imgsubmit.oss-cn-hangzhou.aliyuncs.com/img/20210926194856.png">
<meta property="og:image" content="http://wangpeng-imgsubmit.oss-cn-hangzhou.aliyuncs.com/img/20210926195049.png">
<meta property="og:image" content="http://wangpeng-imgsubmit.oss-cn-hangzhou.aliyuncs.com/img/20210926195401.png">
<meta property="og:image" content="http://wangpeng-imgsubmit.oss-cn-hangzhou.aliyuncs.com/img/20210926195554.png">
<meta property="og:image" content="http://wangpeng-imgsubmit.oss-cn-hangzhou.aliyuncs.com/img/20210926195603.png">
<meta property="og:image" content="http://wangpeng-imgsubmit.oss-cn-hangzhou.aliyuncs.com/img/20210926195614.png">
<meta property="og:image" content="http://wangpeng-imgsubmit.oss-cn-hangzhou.aliyuncs.com/img/20210926195719.png">
<meta property="og:image" content="http://wangpeng-imgsubmit.oss-cn-hangzhou.aliyuncs.com/img/20210926195723.png">
<meta property="og:image" content="http://wangpeng-imgsubmit.oss-cn-hangzhou.aliyuncs.com/img/20210926205025.png">
<meta property="og:image" content="http://wangpeng-imgsubmit.oss-cn-hangzhou.aliyuncs.com/img/20210926205123.png">
<meta property="og:image" content="http://wangpeng-imgsubmit.oss-cn-hangzhou.aliyuncs.com/img/20210926205601.png">
<meta property="article:published_time" content="2021-09-25T12:00:01.000Z">
<meta property="article:modified_time" content="2021-09-27T12:31:08.632Z">
<meta property="article:author" content="huanfenz">
<meta property="article:tag" content="Java">
<meta property="article:tag" content="Linux">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="http://wangpeng-imgsubmit.oss-cn-hangzhou.aliyuncs.com/img/20210917175431.png">
  
  <title>Linux学习笔记 - huanfenz的博客</title>

  <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/css/bootstrap.min.css" />


  <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/github-markdown-css@4/github-markdown.min.css" />
  <link  rel="stylesheet" href="/lib/hint/hint.min.css" />

  
    
    
      
      <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@10/styles/obsidian.min.css" />
    
  

  
    <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3/dist/jquery.fancybox.min.css" />
  


<!-- 主题依赖的图标库，不要自行修改 -->

<link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_ba1fz6golrf.css">



<link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_kmeydafke9r.css">


<link  rel="stylesheet" href="/css/main.css" />

<!-- 自定义样式保持在最底部 -->


  <script id="fluid-configs">
    var Fluid = window.Fluid || {};
    var CONFIG = {"hostname":"huanfenz.top","root":"/","version":"1.8.12","typing":{"enable":true,"typeSpeed":70,"cursorChar":"_","loop":false},"anchorjs":{"enable":true,"element":"h1,h2,h3,h4,h5,h6","placement":"right","visible":"hover","icon":""},"progressbar":{"enable":true,"height_px":3,"color":"#29d","options":{"showSpinner":false,"trickleSpeed":100}},"copy_btn":true,"image_zoom":{"enable":true,"img_url_replace":["",""]},"toc":{"enable":true,"headingSelector":"h1,h2,h3,h4","collapseDepth":2},"lazyload":{"enable":true,"loading_img":"/img/loading.gif","onlypost":false,"offset_factor":2},"web_analytics":{"enable":false,"baidu":null,"google":null,"gtag":null,"tencent":{"sid":null,"cid":null},"woyaola":null,"cnzz":null,"leancloud":{"app_id":null,"app_key":null,"server_url":null,"path":"window.location.pathname"}},"search_path":"/local-search.xml"};
  </script>
  <script  src="/js/utils.js" ></script>
  <script  src="/js/color-schema.js" ></script>
<meta name="generator" content="Hexo 5.4.0"></head>


<body>
  <header style="height: 70vh;">
    <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand" href="/">
      <strong>huanfenz&#39;s blog</strong>
    </a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/">
                <i class="iconfont icon-home-fill"></i>
                首页
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/archives/">
                <i class="iconfont icon-archive-fill"></i>
                归档
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/">
                <i class="iconfont icon-category-fill"></i>
                分类
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/tags/">
                <i class="iconfont icon-tags-fill"></i>
                标签
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/about/">
                <i class="iconfont icon-user-fill"></i>
                关于
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search">
              &nbsp;<i class="iconfont icon-search"></i>&nbsp;
            </a>
          </li>
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" target="_self" href="javascript:;" aria-label="Color Toggle">&nbsp;<i
                class="iconfont icon-dark" id="color-toggle-icon"></i>&nbsp;</a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

    <div class="banner" id="banner" parallax=true
         style="background: url('http://wangpeng-imgsubmit.oss-cn-hangzhou.aliyuncs.com/img/20210927141514.jpg') no-repeat center center;
           background-size: cover;">
      <div class="full-bg-img">
        <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
          <div class="page-header text-center fade-in-up">
            <span class="h2" id="subtitle" title="Linux学习笔记">
              
            </span>

            
              <div class="mt-3">
  
  
    <span class="post-meta">
      <i class="iconfont icon-date-fill" aria-hidden="true"></i>
      <time datetime="2021-09-25 20:00" pubdate>
        2021年9月25日 晚上
      </time>
    </span>
  
</div>

<div class="mt-1">
  
    <span class="post-meta mr-2">
      <i class="iconfont icon-chart"></i>
      21k 字
    </span>
  

  
    <span class="post-meta mr-2">
      <i class="iconfont icon-clock-fill"></i>
      
      
      66 分钟
    </span>
  

  
  
</div>

            
          </div>

          
        </div>
      </div>
    </div>
  </header>

  <main>
    
      

<div class="container-fluid nopadding-x">
  <div class="row nomargin-x">
    <div class="d-none d-lg-block col-lg-2"></div>
    <div class="col-lg-8 nopadding-x-md">
      <div class="container nopadding-x-md" id="board-ctn">
        <div class="py-5" id="board">
          <article class="post-content mx-auto">
            <!-- SEO header -->
            <h1 style="display: none">Linux学习笔记</h1>
            
            <div class="markdown-body">
              <h1><span id="linux">Linux</span></h1><!-- toc -->

<ul>
<li><a href="#%E7%AC%AC1%E7%AB%A0-%E8%AF%BE%E7%A8%8B%E7%AE%80%E4%BB%8B">第1章 课程简介</a></li>
<li><a href="#%E7%AC%AC2%E7%AB%A0-linux%E7%AE%80%E4%BB%8B">第2章 Linux简介</a></li>
<li><a href="#%E7%AC%AC3%E7%AB%A0-vm%E5%92%8Clinux%E5%AE%89%E8%A3%85">第3章 VM和Linux安装</a><ul>
<li><a href="#vm%E5%AE%89%E8%A3%85">VM安装</a></li>
<li><a href="#vm%E7%A0%B4%E8%A7%A3">VM破解</a></li>
<li><a href="#centos%E7%9A%84%E5%AE%89%E8%A3%85">CentOS的安装</a></li>
<li><a href="#%E8%99%9A%E6%8B%9F%E6%9C%BA%E7%9A%84%E7%9B%B8%E5%85%B3%E6%93%8D%E4%BD%9C">虚拟机的相关操作</a><ul>
<li><a href="#%E8%99%9A%E6%8B%9F%E6%9C%BA%E5%85%8B%E9%9A%86">虚拟机克隆</a></li>
<li><a href="#%E8%99%9A%E6%8B%9F%E6%9C%BA%E5%BF%AB%E7%85%A7">虚拟机快照</a></li>
<li><a href="#%E8%99%9A%E6%8B%9F%E6%9C%BA%E7%9A%84%E8%BF%81%E7%A7%BB%E5%92%8C%E5%88%A0%E9%99%A4">虚拟机的迁移和删除</a></li>
</ul>
</li>
<li><a href="#%E5%AE%89%E8%A3%85vmtools">安装vmtools</a></li>
<li><a href="#%E8%AE%BE%E7%BD%AE%E5%85%B1%E4%BA%AB%E6%96%87%E4%BB%B6%E5%A4%B9">设置共享文件夹</a></li>
</ul>
</li>
<li><a href="#%E7%AC%AC4%E7%AB%A0-%E7%9B%AE%E5%BD%95%E7%BB%93%E6%9E%84">第4章 目录结构</a><ul>
<li><a href="#%E5%85%B7%E4%BD%93%E7%9A%84%E7%9B%AE%E5%BD%95%E7%BB%93%E6%9E%84">具体的目录结构</a></li>
</ul>
</li>
<li><a href="#%E7%AC%AC5%E7%AB%A0-%E8%BF%9C%E7%A8%8B%E7%99%BB%E5%BD%95">第5章 远程登录</a><ul>
<li><a href="#xshell%E5%92%8Cxftp%E5%AE%89%E8%A3%85">Xshell和Xftp安装</a></li>
<li><a href="#xshell%E5%92%8Cxftp%E9%85%8D%E7%BD%AE">Xshell和Xftp配置</a></li>
<li><a href="#xftp%E4%B8%AD%E6%96%87%E4%B9%B1%E7%A0%81%E9%97%AE%E9%A2%98">Xftp中文乱码问题</a></li>
</ul>
</li>
<li><a href="#%E7%AC%AC6%E7%AB%A0-vi%E5%92%8Cvim%E7%BC%96%E8%BE%91%E5%99%A8">第6章 Vi和Vim编辑器</a><ul>
<li><a href="#%E4%B8%89%E7%A7%8D%E6%A8%A1%E5%BC%8F">三种模式</a><ul>
<li><a href="#%E6%AD%A3%E5%B8%B8%E6%A8%A1%E5%BC%8F">正常模式</a></li>
<li><a href="#%E6%8F%92%E5%85%A5%E6%A8%A1%E5%BC%8F">插入模式</a></li>
<li><a href="#%E5%91%BD%E4%BB%A4%E8%A1%8C%E6%A8%A1%E5%BC%8F">命令行模式</a></li>
</ul>
</li>
<li><a href="#%E7%9B%B8%E4%BA%92%E5%88%87%E6%8D%A2">相互切换</a></li>
<li><a href="#vi-%E5%92%8C-vim-%E5%BF%AB%E6%8D%B7%E9%94%AE">vi 和 vim 快捷键</a></li>
</ul>
</li>
<li><a href="#%E7%AC%AC7%E7%AB%A0-%E5%BC%80%E6%9C%BA-%E9%87%8D%E5%90%AF%E7%94%A8%E6%88%B7%E7%99%BB%E5%BD%95%E6%B3%A8%E9%94%80">第7章 开机、重启，用户登录注销</a><ul>
<li><a href="#%E5%85%B3%E6%9C%BA%E9%87%8D%E5%90%AF">关机&amp;重启</a></li>
<li><a href="#%E7%94%A8%E6%88%B7%E7%99%BB%E5%BD%95%E5%92%8C%E6%B3%A8%E9%94%80">用户登录和注销</a></li>
</ul>
</li>
<li><a href="#%E7%AC%AC8%E7%AB%A0-%E7%94%A8%E6%88%B7%E7%AE%A1%E7%90%86">第8章 用户管理</a><ul>
<li><a href="#%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4">常用命令</a></li>
<li><a href="#%E7%94%A8%E6%88%B7%E7%BB%84">用户组</a></li>
<li><a href="#%E4%B8%89%E4%B8%AA%E6%96%87%E4%BB%B6">三个文件</a></li>
</ul>
</li>
<li><a href="#%E7%AC%AC9%E7%AB%A0-%E5%AE%9E%E7%94%A8%E6%8C%87%E4%BB%A4">第9章 实用指令</a><ul>
<li><a href="#%E8%BF%90%E8%A1%8C%E7%BA%A7%E5%88%AB%E8%AF%B4%E6%98%8E">运行级别说明</a></li>
<li><a href="#centos7-%E5%90%8E%E8%BF%90%E8%A1%8C%E7%BA%A7%E5%88%AB%E8%AF%B4%E6%98%8E">CentOS7 后运行级别说明</a></li>
<li><a href="#%E6%89%BE%E5%9B%9E-root-%E5%AF%86%E7%A0%81">找回 root 密码</a></li>
<li><a href="#%E5%B8%AE%E5%8A%A9%E6%8C%87%E4%BB%A4">帮助指令</a></li>
<li><a href="#%E6%96%87%E4%BB%B6%E7%9B%AE%E5%BD%95%E7%B1%BB">文件目录类</a></li>
<li><a href="#%E6%97%B6%E9%97%B4%E6%97%A5%E6%9C%9F%E7%B1%BB">时间日期类</a></li>
<li><a href="#%E6%90%9C%E7%B4%A2%E6%9F%A5%E6%89%BE%E7%B1%BB">搜索查找类</a></li>
<li><a href="#%E5%8E%8B%E7%BC%A9%E5%92%8C%E8%A7%A3%E5%8E%8B%E7%B1%BB">压缩和解压类</a></li>
</ul>
</li>
<li><a href="#%E7%AC%AC10%E7%AB%A0-%E7%BB%84%E7%AE%A1%E7%90%86%E5%92%8C%E6%9D%83%E9%99%90%E7%AE%A1%E7%90%86">第10章 组管理和权限管理</a><ul>
<li><a href="#%E6%96%87%E4%BB%B6%E7%9B%AE%E5%BD%95-%E6%89%80%E6%9C%89%E8%80%85">文件/目录 所有者</a></li>
<li><a href="#%E7%BB%84%E7%9A%84%E5%88%9B%E5%BB%BA">组的创建</a></li>
<li><a href="#%E6%96%87%E4%BB%B6%E7%9B%AE%E5%BD%95-%E6%89%80%E5%9C%A8%E7%BB%84">文件/目录 所在组</a></li>
<li><a href="#%E4%BF%AE%E6%94%B9%E6%96%87%E4%BB%B6%E7%9B%AE%E5%BD%95%E6%89%80%E5%9C%A8%E7%9A%84%E7%BB%84">修改文件/目录所在的组</a></li>
<li><a href="#%E5%85%B6%E5%AE%83%E7%BB%84">其它组</a></li>
<li><a href="#%E6%94%B9%E5%8F%98%E7%94%A8%E6%88%B7%E6%89%80%E5%9C%A8%E7%BB%84">改变用户所在组</a></li>
<li><a href="#%E6%9D%83%E9%99%90%E7%9A%84%E5%9F%BA%E6%9C%AC%E4%BB%8B%E7%BB%8D">权限的基本介绍</a></li>
<li><a href="#rwx-%E6%9D%83%E9%99%90%E8%AF%A6%E8%A7%A3%E9%9A%BE%E7%82%B9">rwx 权限详解，难点</a><ul>
<li><a href="#rwx-%E4%BD%9C%E7%94%A8%E5%88%B0%E6%96%87%E4%BB%B6">rwx 作用到文件</a></li>
<li><a href="#rwx-%E4%BD%9C%E7%94%A8%E5%88%B0%E7%9B%AE%E5%BD%95">rwx 作用到目录</a></li>
</ul>
</li>
<li><a href="#%E4%BF%AE%E6%94%B9%E6%9D%83%E9%99%90-chmod">修改权限-chmod</a><ul>
<li><a href="#%E7%AC%AC%E4%B8%80%E7%A7%8D%E6%96%B9%E5%BC%8F-%E5%8F%98%E6%9B%B4%E6%9D%83%E9%99%90">第一种方式：+ 、-、= 变更权限</a></li>
<li><a href="#%E7%AC%AC%E4%BA%8C%E7%A7%8D%E6%96%B9%E5%BC%8F%E9%80%9A%E8%BF%87%E6%95%B0%E5%AD%97%E5%8F%98%E6%9B%B4%E6%9D%83%E9%99%90">第二种方式：通过数字变更权限</a></li>
</ul>
</li>
<li><a href="#%E4%BF%AE%E6%94%B9%E6%96%87%E4%BB%B6%E6%89%80%E6%9C%89%E8%80%85-chown">修改文件所有者-chown</a></li>
<li><a href="#%E4%BF%AE%E6%94%B9%E6%96%87%E4%BB%B6%E7%9B%AE%E5%BD%95%E6%89%80%E5%9C%A8%E7%BB%84-chgrp">修改文件/目录所在组-chgrp</a></li>
<li><a href="#%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5-%E8%AD%A6%E5%AF%9F%E5%92%8C%E5%9C%9F%E5%8C%AA%E6%B8%B8%E6%88%8F">最佳实践-警察和土匪游戏</a></li>
<li><a href="#%E8%AF%BE%E5%90%8E%E7%BB%83%E4%B9%A0">课后练习</a></li>
<li><a href="#%E8%AF%BE%E5%90%8E%E7%BB%83%E4%B9%A02">课后练习2</a></li>
</ul>
</li>
<li><a href="#%E7%AC%AC11%E7%AB%A0-%E5%AE%9A%E6%97%B6%E4%BB%BB%E5%8A%A1%E8%B0%83%E5%BA%A6%E6%AC%A1%E8%A6%81">第11章 定时任务调度（次要）</a><ul>
<li><a href="#crond-%E4%BB%BB%E5%8A%A1%E8%B0%83%E5%BA%A6%E5%AE%9A%E6%97%B6run">crond 任务调度（定时run）</a><ul>
<li><a href="#%E7%9B%B8%E5%85%B3%E5%91%BD%E4%BB%A4">相关命令</a></li>
<li><a href="#%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8">快速入门</a></li>
<li><a href="#%E5%8F%82%E6%95%B0%E8%AF%B4%E6%98%8E">参数说明</a></li>
<li><a href="#%E7%89%B9%E6%AE%8A%E7%AC%A6%E5%8F%B7%E7%9A%84%E8%AF%B4%E6%98%8E">特殊符号的说明</a></li>
<li><a href="#%E7%89%B9%E6%AE%8A%E6%97%B6%E9%97%B4%E6%89%A7%E8%A1%8C%E6%A1%88%E4%BE%8B">特殊时间执行案例</a></li>
<li><a href="#%E5%BA%94%E7%94%A8%E6%A1%88%E4%BE%8B">应用案例</a></li>
</ul>
</li>
<li><a href="#at-%E5%AE%9A%E6%97%B6%E4%BB%BB%E5%8A%A1%E4%B8%80%E6%AC%A1%E5%AE%9A%E6%97%B6run">at 定时任务（一次定时run）</a><ul>
<li><a href="#%E7%9B%B8%E5%85%B3%E5%91%BD%E4%BB%A4-1">相关命令</a></li>
<li><a href="#at-%E5%91%BD%E4%BB%A4%E9%80%89%E9%A1%B9">at 命令选项</a></li>
<li><a href="#at-%E6%97%B6%E9%97%B4%E5%AE%9A%E4%B9%89">at 时间定义</a></li>
<li><a href="#%E5%BA%94%E7%94%A8%E5%AE%9E%E4%BE%8B">应用实例</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#%E7%AC%AC12%E7%AB%A0-linux-%E7%A3%81%E7%9B%98%E5%88%86%E5%8C%BA-%E6%8C%82%E8%BD%BD%E6%AC%A1%E8%A6%81">第12章 Linux 磁盘分区、挂载（次要）</a><ul>
<li><a href="#%E7%A4%BA%E6%84%8F%E5%9B%BE">示意图</a></li>
<li><a href="#%E7%A1%AC%E7%9B%98%E8%AF%B4%E6%98%8E">硬盘说明</a></li>
<li><a href="#%E6%9F%A5%E7%9C%8B%E6%89%80%E6%9C%89%E8%AE%BE%E5%A4%87%E6%8C%82%E8%BD%BD%E6%83%85%E5%86%B5">查看所有设备挂载情况</a></li>
<li><a href="#%E6%8C%82%E8%BD%BD%E7%9A%84%E7%BB%8F%E5%85%B8%E6%A1%88%E4%BE%8B">挂载的经典案例</a><ul>
<li><a href="#%E5%A6%82%E4%BD%95%E5%A2%9E%E5%8A%A0%E4%B8%80%E5%9D%97%E7%A1%AC%E7%9B%98">如何增加一块硬盘</a></li>
<li><a href="#%E8%99%9A%E6%8B%9F%E6%9C%BA%E5%A2%9E%E5%8A%A0%E7%A1%AC%E7%9B%98%E6%AD%A5%E9%AA%A41">虚拟机增加硬盘步骤1</a></li>
<li><a href="#%E8%99%9A%E6%8B%9F%E6%9C%BA%E5%A2%9E%E5%8A%A0%E7%A1%AC%E7%9B%98%E6%AD%A5%E9%AA%A42">虚拟机增加硬盘步骤2</a></li>
<li><a href="#%E8%99%9A%E6%8B%9F%E6%9C%BA%E5%A2%9E%E5%8A%A0%E7%A1%AC%E7%9B%98%E6%AD%A5%E9%AA%A43">虚拟机增加硬盘步骤3</a></li>
<li><a href="#%E8%99%9A%E6%8B%9F%E6%9C%BA%E5%A2%9E%E5%8A%A0%E7%A1%AC%E7%9B%98%E6%AD%A5%E9%AA%A44">虚拟机增加硬盘步骤4</a></li>
<li><a href="#%E8%99%9A%E6%8B%9F%E6%9C%BA%E5%A2%9E%E5%8A%A0%E7%A1%AC%E7%9B%98%E6%AD%A5%E9%AA%A45">虚拟机增加硬盘步骤5</a></li>
</ul>
</li>
<li><a href="#%E7%A3%81%E7%9B%98%E6%83%85%E5%86%B5%E6%9F%A5%E8%AF%A2">磁盘情况查询</a><ul>
<li><a href="#%E6%9F%A5%E8%AF%A2%E7%B3%BB%E7%BB%9F%E6%95%B4%E4%BD%93%E7%A3%81%E7%9B%98%E4%BD%BF%E7%94%A8%E6%83%85%E5%86%B5">查询系统整体磁盘使用情况</a></li>
<li><a href="#%E6%9F%A5%E8%AF%A2%E6%8C%87%E5%AE%9A%E7%9B%AE%E5%BD%95%E7%9A%84%E7%A3%81%E7%9B%98%E5%8D%A0%E7%94%A8%E6%83%85%E5%86%B5">查询指定目录的磁盘占用情况</a></li>
</ul>
</li>
<li><a href="#%E7%A3%81%E7%9B%98%E6%83%85%E5%86%B5-%E5%B7%A5%E4%BD%9C%E5%AE%9E%E7%94%A8%E6%8C%87%E4%BB%A4">磁盘情况-工作实用指令</a></li>
</ul>
</li>
<li><a href="#%E7%AC%AC13%E7%AB%A0-%E7%BD%91%E7%BB%9C%E9%85%8D%E7%BD%AE%E9%87%8D%E8%A6%81">第13章 网络配置（重要）</a><ul>
<li><a href="#%E5%8E%9F%E7%90%86%E5%9B%BE">原理图</a></li>
<li><a href="#%E6%9F%A5%E7%9C%8B%E7%BD%91%E7%BB%9Cip-%E5%92%8C%E7%BD%91%E5%85%B3">查看网络IP 和网关</a><ul>
<li><a href="#%E6%9F%A5%E7%9C%8B%E8%99%9A%E6%8B%9F%E7%BD%91%E7%BB%9C%E7%BC%96%E8%BE%91%E5%99%A8%E5%92%8C%E4%BF%AE%E6%94%B9ip-%E5%9C%B0%E5%9D%80">查看虚拟网络编辑器和修改IP 地址</a></li>
<li><a href="#%E6%9F%A5%E7%9C%8B%E7%BD%91%E5%85%B3">查看网关</a></li>
<li><a href="#%E6%9F%A5%E7%9C%8B-windows-%E7%8E%AF%E5%A2%83%E7%9A%84%E4%B8%AD-vmnet8-%E7%BD%91%E7%BB%9C%E9%85%8D%E7%BD%AE-ipconfig-%E6%8C%87%E4%BB%A4">查看 windows 环境的中 VMnet8 网络配置 (ipconfig 指令)</a></li>
<li><a href="#%E6%9F%A5%E7%9C%8B-linux-%E7%9A%84%E7%BD%91%E7%BB%9C%E9%85%8D%E7%BD%AE-ifconfig">查看 linux 的网络配置 ifconfig</a></li>
</ul>
</li>
<li><a href="#ping-%E6%B5%8B%E8%AF%95%E4%B8%BB%E6%9C%BA%E4%B9%8B%E9%97%B4%E7%BD%91%E7%BB%9C%E8%BF%9E%E9%80%9A%E6%80%A7">ping 测试主机之间网络连通性</a></li>
<li><a href="#linux-%E7%BD%91%E7%BB%9C%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE">linux 网络环境配置</a><ul>
<li><a href="#%E7%AC%AC%E4%B8%80%E7%A7%8D%E6%96%B9%E6%B3%95%E8%87%AA%E5%8A%A8%E8%8E%B7%E5%8F%96dhcp">第一种方法(自动获取DHCP)</a></li>
<li><a href="#%E7%AC%AC%E4%BA%8C%E7%A7%8D%E6%96%B9%E6%B3%95%E6%8C%87%E5%AE%9Aip">第二种方法(指定ip)</a></li>
</ul>
</li>
<li><a href="#%E8%AE%BE%E7%BD%AE%E4%B8%BB%E6%9C%BA%E5%90%8D%E5%92%8Chosts-%E6%98%A0%E5%B0%84">设置主机名和hosts 映射</a><ul>
<li><a href="#%E8%AE%BE%E7%BD%AE%E4%B8%BB%E6%9C%BA%E5%90%8D">设置主机名</a></li>
<li><a href="#%E8%AE%BE%E7%BD%AEhosts-%E6%98%A0%E5%B0%84">设置hosts 映射</a></li>
<li><a href="#%E4%B8%BB%E6%9C%BA%E5%90%8D%E8%A7%A3%E6%9E%90%E8%BF%87%E7%A8%8B%E5%88%86%E6%9E%90hosts-dns">主机名解析过程分析(Hosts、DNS)</a></li>
<li><a href="#hosts-%E6%98%AF%E4%BB%80%E4%B9%88">Hosts 是什么</a></li>
<li><a href="#dns">DNS</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#%E7%AC%AC14%E7%AB%A0-%E8%BF%9B%E7%A8%8B%E7%AE%A1%E7%90%86%E9%87%8D%E8%A6%81">第14章 进程管理（重要）</a><ul>
<li><a href="#%E7%A4%BA%E6%84%8F%E5%9B%BE-1">示意图</a></li>
<li><a href="#%E6%98%BE%E7%A4%BA%E7%B3%BB%E7%BB%9F%E6%89%A7%E8%A1%8C%E7%9A%84%E8%BF%9B%E7%A8%8B">显示系统执行的进程</a><ul>
<li><a href="#ps-%E8%AF%A6%E8%A7%A3">ps 详解</a></li>
<li><a href="#%E5%BA%94%E7%94%A8%E5%AE%9E%E4%BE%8B-1">应用实例</a></li>
</ul>
</li>
<li><a href="#%E7%BB%88%E6%AD%A2%E8%BF%9B%E7%A8%8Bkill-%E5%92%8C-killall">终止进程kill 和 killall</a><ul>
<li><a href="#%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95">基本语法</a></li>
<li><a href="#%E5%B8%B8%E7%94%A8%E9%80%89%E9%A1%B9">常用选项</a></li>
<li><a href="#%E6%A1%88%E4%BE%8B">案例</a></li>
</ul>
</li>
<li><a href="#%E6%9F%A5%E7%9C%8B%E8%BF%9B%E7%A8%8B%E6%A0%91-pstree">查看进程树 pstree</a><ul>
<li><a href="#%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95-1">基本语法</a></li>
<li><a href="#%E5%B8%B8%E7%94%A8%E9%80%89%E9%A1%B9-1">常用选项</a></li>
<li><a href="#%E5%BA%94%E7%94%A8%E5%AE%9E%E4%BE%8B-2">应用实例</a></li>
</ul>
</li>
<li><a href="#%E6%9C%8D%E5%8A%A1service%E7%AE%A1%E7%90%86">服务(service)管理</a><ul>
<li><a href="#service-%E7%AE%A1%E7%90%86%E6%8C%87%E4%BB%A4">service 管理指令</a></li>
<li><a href="#service-%E7%AE%A1%E7%90%86%E6%8C%87%E4%BB%A4%E6%A1%88%E4%BE%8B">service 管理指令案例</a></li>
<li><a href="#%E6%9F%A5%E7%9C%8B%E6%9C%8D%E5%8A%A1%E5%90%8D">查看服务名</a></li>
<li><a href="#%E6%9C%8D%E5%8A%A1%E7%9A%84%E8%BF%90%E8%A1%8C%E7%BA%A7%E5%88%ABrunlevel">服务的运行级别(runlevel)</a></li>
<li><a href="#centos7-%E5%90%8E%E8%BF%90%E8%A1%8C%E7%BA%A7%E5%88%AB%E8%AF%B4%E6%98%8E-1">CentOS7 后运行级别说明</a></li>
<li><a href="#chkconfig-%E6%8C%87%E4%BB%A4">chkconfig 指令</a></li>
<li><a href="#chkconfig-%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95">chkconfig 基本语法</a></li>
<li><a href="#systemctl-%E7%AE%A1%E7%90%86%E6%8C%87%E4%BB%A4">systemctl 管理指令</a></li>
<li><a href="#systemctl-%E8%AE%BE%E7%BD%AE%E6%9C%8D%E5%8A%A1%E7%9A%84%E8%87%AA%E5%90%AF%E5%8A%A8%E7%8A%B6%E6%80%81">systemctl 设置服务的自启动状态</a></li>
<li><a href="#%E5%BA%94%E7%94%A8%E6%A1%88%E4%BE%8B%E6%9F%A5%E7%9C%8B-%E5%85%B3%E9%97%AD-%E9%87%8D%E5%90%AF%E9%98%B2%E7%81%AB%E5%A2%99">应用案例（查看、关闭、重启防火墙）</a></li>
<li><a href="#%E7%BB%86%E8%8A%82%E8%AE%A8%E8%AE%BA%E9%98%B2%E7%81%AB%E5%A2%99">细节讨论（防火墙）</a></li>
<li><a href="#%E6%89%93%E5%BC%80%E6%88%96%E8%80%85%E5%85%B3%E9%97%AD%E6%8C%87%E5%AE%9A%E7%AB%AF%E5%8F%A3%E9%87%8D%E8%A6%81">打开或者关闭指定端口（重要！！！）</a></li>
<li><a href="#firewall-%E6%8C%87%E4%BB%A4">firewall 指令</a></li>
<li><a href="#linux%E4%B8%8B%E9%98%B2%E7%81%AB%E5%A2%99%E5%BC%80%E6%94%BE3306%E7%AB%AF%E5%8F%A3">linux下防火墙开放3306端口</a></li>
<li><a href="#%E5%BA%94%E7%94%A8%E6%A1%88%E4%BE%8B%E9%98%B2%E7%81%AB%E5%A2%99">应用案例（防火墙）</a></li>
<li><a href="#%E5%8A%A8%E6%80%81%E7%9B%91%E6%8E%A7%E8%BF%9B%E7%A8%8B">动态监控进程</a></li>
<li><a href="#%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95-2">基本语法</a></li>
<li><a href="#%E9%80%89%E9%A1%B9%E8%AF%B4%E6%98%8E">选项说明</a></li>
<li><a href="#%E4%BA%A4%E4%BA%92%E6%93%8D%E4%BD%9C%E8%AF%B4%E6%98%8E">交互操作说明</a></li>
<li><a href="#%E5%BA%94%E7%94%A8%E5%AE%9E%E4%BE%8B-3">应用实例</a></li>
</ul>
</li>
<li><a href="#%E7%9B%91%E6%8E%A7%E7%BD%91%E7%BB%9C%E7%8A%B6%E6%80%81">监控网络状态</a><ul>
<li><a href="#%E6%9F%A5%E7%9C%8B%E7%B3%BB%E7%BB%9F%E7%BD%91%E7%BB%9C%E6%83%85%E5%86%B5netstat">查看系统网络情况netstat</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#%E7%AC%AC15%E7%AB%A0-rpm%E4%B8%8Eyum">第15章 RPM与YUM</a><ul>
<li><a href="#rpm%E5%8C%85%E7%9A%84%E7%AE%A1%E7%90%86">rpm包的管理</a><ul>
<li><a href="#rpm-%E5%8C%85%E7%9A%84%E7%AE%80%E5%8D%95%E6%9F%A5%E8%AF%A2%E6%8C%87%E4%BB%A4">rpm 包的简单查询指令</a></li>
<li><a href="#rpm-%E5%8C%85%E5%90%8D%E5%9F%BA%E6%9C%AC%E6%A0%BC%E5%BC%8F">rpm 包名基本格式</a></li>
<li><a href="#rpm-%E5%8C%85%E7%9A%84%E5%85%B6%E5%AE%83%E6%9F%A5%E8%AF%A2%E6%8C%87%E4%BB%A4">rpm 包的其它查询指令</a></li>
<li><a href="#%E5%8D%B8%E8%BD%BDrpm-%E5%8C%85">卸载rpm 包</a></li>
<li><a href="#%E5%AE%89%E8%A3%85rpm-%E5%8C%85">安装rpm 包</a></li>
</ul>
</li>
<li><a href="#yum">yum</a><ul>
<li><a href="#yum-%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%8C%87%E4%BB%A4">yum 的基本指令</a></li>
<li><a href="#%E5%AE%89%E8%A3%85%E6%8C%87%E5%AE%9A%E7%9A%84yum-%E5%8C%85">安装指定的yum 包</a></li>
<li><a href="#yum-%E5%BA%94%E7%94%A8%E5%AE%9E%E4%BE%8B">yum 应用实例</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#%E7%AC%AC16%E7%AB%A0-%E6%90%AD%E5%BB%BAjavaee%E7%8E%AF%E5%A2%83">第16章 搭建JavaEE环境</a><ul>
<li><a href="#%E5%AE%89%E8%A3%85-jdk">安装 JDK</a><ul>
<li><a href="#%E5%AE%89%E8%A3%85%E6%AD%A5%E9%AA%A4">安装步骤</a></li>
<li><a href="#%E6%B5%8B%E8%AF%95%E6%98%AF%E5%90%A6%E5%AE%89%E8%A3%85%E6%88%90%E5%8A%9F">测试是否安装成功</a></li>
</ul>
</li>
<li><a href="#tomcat-%E7%9A%84%E5%AE%89%E8%A3%85">tomcat 的安装</a><ul>
<li><a href="#%E6%AD%A5%E9%AA%A4">步骤</a></li>
<li><a href="#%E6%B5%8B%E8%AF%95%E6%98%AF%E5%90%A6%E5%AE%89%E8%A3%85%E6%88%90%E5%8A%9F-1">测试是否安装成功</a></li>
</ul>
</li>
<li><a href="#idea2020-%E7%9A%84%E5%AE%89%E8%A3%85">idea2020 的安装</a><ul>
<li><a href="#%E6%AD%A5%E9%AA%A4-1">步骤</a></li>
</ul>
</li>
<li><a href="#mysql57-%E7%9A%84%E5%AE%89%E8%A3%85%E6%B3%A8%E6%84%8F">mysql5.7 的安装（注意）</a><ul>
<li><a href="#%E6%AD%A5%E9%AA%A4-2">步骤</a></li>
</ul>
</li>
<li><a href="#%E8%BF%9C%E7%A8%8B%E8%AE%BF%E9%97%AE%E8%AE%BE%E7%BD%AE">远程访问设置</a></li>
</ul>
</li>
</ul>
<!-- tocstop -->

<h2><span id="第1章-课程简介">第1章 课程简介</span></h2><p>暂时就学习</p>
<ol>
<li>  <strong>基础篇</strong></li>
<li>  <strong>实际操作篇</strong></li>
<li>  <strong>JavaEE定制篇</strong></li>
</ol>
<h2><span id="第2章-linux简介">第2章 Linux简介</span></h2><p> linux 是一个开源、免费的操作系统，特点是稳定、安全。</p>
<h2><span id="第3章-vm和linux安装">第3章 VM和Linux安装</span></h2><h3><span id="vm安装">VM安装</span></h3><ol>
<li><p>  进入官网<a target="_blank" rel="noopener" href="https://www.vmware.com/">VMware - Delivering a Digital Foundation For Businesses</a></p>
</li>
<li><p>  找到最新的workspace，然后安装</p>
</li>
<li><p>  安装过程比较简单，不赘述，改下安装目录的盘符就行。</p>
</li>
</ol>
<h3><span id="vm破解">VM破解</span></h3><ol>
<li>  在网上搜一下对应版本的密钥</li>
<li>  VMware pro 16的密钥</li>
</ol>
<figure class="highlight apache"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs apache"><span class="hljs-attribute">ZF3R0</span>-FHED<span class="hljs-number">2</span>-M<span class="hljs-number">80</span>TY-<span class="hljs-number">8</span>QYGC-NPKYF<br><span class="hljs-attribute">YF390</span>-<span class="hljs-number">0</span>HF<span class="hljs-number">8</span>P-M<span class="hljs-number">81</span>RQ-<span class="hljs-number">2</span>DXQE-M<span class="hljs-number">2</span>UT<span class="hljs-number">6</span><br><span class="hljs-attribute">ZF71R</span>-DMX<span class="hljs-number">85</span>-<span class="hljs-number">08</span>DQY-<span class="hljs-number">8</span>YMNC-PPHV<span class="hljs-number">8</span><br></code></pre></div></td></tr></table></figure>



<h3><span id="centos的安装">CentOS的安装</span></h3><ol>
<li>  因为系统包比较大，所以需要找一个镜像网站下载CentOS7</li>
<li>  镜像网站参考</li>
</ol>
<blockquote>
<p><a target="_blank" rel="noopener" href="http://man.linuxde.net/download/CentOS">http://man.linuxde.net/download/CentOS</a><br><a target="_blank" rel="noopener" href="http://mirrors.cn99.com/centos/7/isos/x86_64/">http://mirrors.cn99.com/centos/7/isos/x86_64/</a><br><a target="_blank" rel="noopener" href="http://mirrors.sohu.com/centos/7/isos/x86_64/">http://mirrors.sohu.com/centos/7/isos/x86_64/</a><br><a target="_blank" rel="noopener" href="http://mirrors.aliyun.com/centos/7/isos/x86_64/">http://mirrors.aliyun.com/centos/7/isos/x86_64/</a><br><a target="_blank" rel="noopener" href="http://centos.ustc.edu.cn/centos/7/isos/x86_64/">http://centos.ustc.edu.cn/centos/7/isos/x86_64/</a><br><a target="_blank" rel="noopener" href="http://mirrors.neusoft.edu.cn/centos/7/isos/x86_64/">http://mirrors.neusoft.edu.cn/centos/7/isos/x86_64/</a><br><a target="_blank" rel="noopener" href="http://mirrors.163.com/centos/7/isos/x86_64/">http://mirrors.163.com/centos/7/isos/x86_64/</a><br><a target="_blank" rel="noopener" href="http://ftp.sjtu.edu.cn/centos/7/isos/x86_64/">http://ftp.sjtu.edu.cn/centos/7/isos/x86_64/</a></p>
</blockquote>
<p>我就下载了CentOS7的最后一个版本2009</p>
<p><font color="red">具体安装步骤参考附件《韩顺平教育 安装CentOS7.6》</font></p>
<h3><span id="虚拟机的相关操作">虚拟机的相关操作</span></h3><h4><span id="虚拟机克隆">虚拟机克隆</span></h4><ul>
<li>  方法一：直接复制安装好的虚拟机的文件夹。</li>
<li>  方法二（推荐）： 在VMware中选中需要克隆的虚拟机，右键–管理–克隆</li>
</ul>
<p><font color="red">注意：克隆时需要关闭linux系统。</font></p>
<h4><span id="虚拟机快照">虚拟机快照</span></h4><p>如果你在使用虚拟机系统的时候(比如 linux)，你想回到原先的某一个状态，也就是说你担心可能有些误操作造成系统异常，需要回到原先某个正常运行的状态，vmware 也提供了这样的功能，就叫快照管理 。</p>
<p>比较类似于git，也有分支。</p>
<p>下图是快照管理页面</p>
<p><img src="http://wangpeng-imgsubmit.oss-cn-hangzhou.aliyuncs.com/img/20210917175431.png" srcset="/img/loading.gif" lazyload alt="image-20210917175424447"></p>
<p>虽然快照很方便，但也不要滥用，避免资源的浪费，在有需要保存状态的时候使用。</p>
<h4><span id="虚拟机的迁移和删除">虚拟机的迁移和删除</span></h4><p>虚拟系统安装好了，它的本质就是文件(放在文件夹的)。因此虚拟系统的迁移很方便，你可以把安装好的虚拟系统这个<strong>文件夹整体拷贝或者剪切</strong>到另外位置使用。删除也很简单，<strong>用 vmware 进行移除</strong>，再点击菜单-&gt;从磁盘删除即可，或者直接手动删除虚拟系统对应的文件夹。</p>
<h3><span id="安装vmtools">安装vmtools</span></h3><p><font color="blue">备注：先设一下共享文件夹试试，说不定默认安装好了。</font></p>
<p>安装步骤：</p>
<p>1)进入 centos（<font color="red">管理员账号进入</font>）</p>
<p>2)点击 vm 菜单的-&gt;install vmware tools</p>
<p>3)centos 会出现一个 vm 的安装包, xx.tar.gz</p>
<p>4)拷贝到 /opt</p>
<p>5)使用解压命令 tar, 得到一个安装文件</p>
<figure class="highlight vim"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs vim"><span class="hljs-keyword">cd</span> /<span class="hljs-keyword">opt</span> [进入到 <span class="hljs-keyword">opt</span> 目录]<br>tar -zxvf xx.tar.gz<br></code></pre></div></td></tr></table></figure>

<p>6)进入该 vm 解压的目录 , /opt 目录下</p>
<figure class="highlight gams"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs gams"><span class="hljs-function"><span class="hljs-title">cd</span></span> vmware...<br></code></pre></div></td></tr></table></figure>

<p>7)安装 ./vmware-install.pl</p>
<p>8)全部使用默认设置即可, 就可以安装成功</p>
<p>9)注意：安装 vmtools 需要有 gcc.（gcc是安装系统时，安装的组建包）</p>
<p>查看gcc版本命令</p>
<figure class="highlight ebnf"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs ebnf"><span class="hljs-attribute">gcc -v</span><br></code></pre></div></td></tr></table></figure>

<p><font color="red">注意安装的时候不要uninstalling了。看清楚最后一个填no</font></p>
<h3><span id="设置共享文件夹">设置共享文件夹</span></h3><p>为了方便，可以设置一个共享文件夹，比如 d:/myshare</p>
<p>在vmware的设置中，设置一下，比较简单，不赘述。</p>
<h2><span id="第4章-目录结构">第4章 目录结构</span></h2><p>linux 的文件系统是采用级层式的树状目录结构，在此结构中的<font color="red">最上层是根目录“/”</font>，然后在此目录下再创建其他的<br>目录。</p>
<p>记住一句话：“<font color="red">在LInux中，一切皆文件</font>”。</p>
<h3><span id="具体的目录结构">具体的目录结构</span></h3><p><img src="http://wangpeng-imgsubmit.oss-cn-hangzhou.aliyuncs.com/img/20210926211538.png" srcset="/img/loading.gif" lazyload alt="1"></p>
<figure class="highlight markdown"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs markdown">/bin [常用]<br><span class="hljs-code">	是Binary，存放着常用命令</span><br><span class="hljs-code">/sbin</span><br><span class="hljs-code">	s是super，存放管理员使用的程序</span><br><span class="hljs-code">/home [常用]</span><br><span class="hljs-code">	普通用户的主目录，在Linux中每个用户都有一个自己的目录，该目录一般是用户的账号命名</span><br><span class="hljs-code">/root [常用]</span><br><span class="hljs-code">	管理员的主目录</span><br><span class="hljs-code">/lib</span><br><span class="hljs-code">	系统开机所需要的最基本的动态连接共享库，类似与Windows中的DLL文件。几乎所有的应用程序都需要用到它们。</span><br><span class="hljs-code">/lost+found</span><br><span class="hljs-code">	一般为空，非法关机后，存放一些文件</span><br><span class="hljs-code">/etc [常用]</span><br><span class="hljs-code">	系统管理所需要的配置文件和子目录，比如安装mysql数据库my.conf</span><br><span class="hljs-code">/usr [常用]</span><br><span class="hljs-code">	应用程序和文件。类似于windows的program files目录。</span><br><span class="hljs-code">/boot [常用]</span><br><span class="hljs-code">	存放启动Linux时的一些核心文件，包括一些连接文件和镜像文件</span><br><span class="hljs-code">/proc [不能动]</span><br><span class="hljs-code">	虚拟的目录，是系统内存的映射，访问这个目录来获取系统信息</span><br><span class="hljs-code">/srv [不能动]</span><br><span class="hljs-code">	service 缩写，该目录存放一些服务启动之后需要提取的数据</span><br><span class="hljs-code">/sys [不能动]</span><br><span class="hljs-code">	这是 linux2.6 内核的一个很大的变化。该目录下安装了 2.6 内核中新出现的一个文件系统 sysfs =》【别动】</span><br><span class="hljs-code">/tmp</span><br><span class="hljs-code">	存放临时文件</span><br><span class="hljs-code">/dev</span><br><span class="hljs-code">	类似于 windows 的设备管理器，把所有的硬件用文件的形式存储</span><br><span class="hljs-code">/media [常用]</span><br><span class="hljs-code">	linux 系统会自动识别一些设备，例如 U 盘、光驱等等，当识别后，linux 会把识别的设备挂载到这个目录下</span><br><span class="hljs-code">/mnt [常用]</span><br><span class="hljs-code">	系统提供该目录是为了让用户临时挂载别的文件系统的，我们可以将外部的存储挂载在/mnt/上，然后进入该目录就可以查看里的内容了。</span><br><span class="hljs-code">/opt</span><br><span class="hljs-code">	这是给主机额外安装软件所存放的目录。如安装 ORACLE 数据库就可放到该目录下。默认为空</span><br><span class="hljs-code">/usr/local [常用]</span><br><span class="hljs-code">	这是另一个给主机额外安装软件所安装的目录。一般是通过编译源码方式安装的程序</span><br><span class="hljs-code">/var [常用]</span><br><span class="hljs-code">	这个目录中存放着在不断扩充着的东西，习惯将经常被修改的目录放在这个目录下。包括各种日志文件</span><br><span class="hljs-code">/selinux [security-enhanced linux]</span><br><span class="hljs-code">	SELinux 是一种安全子系统,它能控制程序只能访问特定文件,有三种工作模式，可以自行设置.</span><br></code></pre></div></td></tr></table></figure>

<p>简单记忆一下</p>
<ol>
<li>  bin和sbin存放命令程序</li>
<li>  home和root是用户主目录，存放用户的信息</li>
<li>  usr，应用程序</li>
<li>  media，外部设备</li>
<li>  mnt，外部挂载</li>
<li>  etc，配置文件</li>
<li>  var，日志文件</li>
</ol>
<h2><span id="第5章-远程登录">第5章 远程登录</span></h2><h3><span id="xshell和xftp安装">Xshell和Xftp安装</span></h3><p>xshell和xftp的获取网址</p>
<p><a target="_blank" rel="noopener" href="https://www.netsarang.com/zh/free-for-home-school/">家庭/学校免费 - NetSarang Website</a></p>
<p>安装都是无脑的。</p>
<h3><span id="xshell和xftp配置">Xshell和Xftp配置</span></h3><p>linux查看ip地址命令：<code>ifconfig</code></p>
<p>用目标设备的ip地址连接上就可以，名称可以随意（建议也是IP地址），主机填ip地址（名称填了ip地址会自动填）。</p>
<p>协议和端口号默认（SSH和22，SFTP和22）</p>
<h3><span id="xftp中文乱码问题">Xftp中文乱码问题</span></h3><img src="http://wangpeng-imgsubmit.oss-cn-hangzhou.aliyuncs.com/img/20210919194600.png" srcset="/img/loading.gif" lazyload alt="image-20210919194559923" style="zoom: 50%;">



<h2><span id="第6章-vi和vim编辑器">第6章 Vi和Vim编辑器</span></h2><p>Linux 系统会内置 vi 文本编辑器</p>
<p>Vim 具有程序编辑的能力，可以看做是 Vi 的增强版本，可以主动的以字体颜色辨别语法的正确性，方便程序设计。<br>代码补完、编译及错误跳转等方便编程的功能特别丰富，在程序员中被广泛使用。</p>
<h3><span id="三种模式">三种模式</span></h3><h4><span id="正常模式">正常模式</span></h4><p>以 vim 打开一个档案就直接进入一般模式了(这是默认的模式)。在这个模式中， 你可以使用『上下左右』按键来<br>移动光标，你可以使用『删除字符』或『删除整行』来处理档案内容， 也可以使用『复制、粘贴』来处理你的文件数<br>据。</p>
<h4><span id="插入模式">插入模式</span></h4><p>按下 i, I, o, O, a, A,r,R 等任何一个字母之后才会进入编辑模式,一般来说<strong>按 i 即可</strong>.</p>
<h4><span id="命令行模式">命令行模式</span></h4><p>输入 esc 再输入：在这个模式当中， 可以提供你相关指令，完成读取、存盘、替换、离开vim、显示行号等的动作则是在此模式中达成的！</p>
<h3><span id="相互切换">相互切换</span></h3><img src="http://wangpeng-imgsubmit.oss-cn-hangzhou.aliyuncs.com/img/20210922180946.png" srcset="/img/loading.gif" lazyload alt="image-20210922180939000" style="zoom:80%;">



<h3><span id="vi-和-vim-快捷键">vi 和 vim 快捷键</span></h3><p>键盘图</p>
<p><img src="https://img-blog.csdn.net/20170325161428570?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvc2luYXRfMzYxMDEzNTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" srcset="/img/loading.gif" lazyload alt="这里写图片描述"></p>
<p>梳理一下常用的：</p>
<figure class="highlight markdown"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs markdown">:wq								保存退出<br>:q!								不保存退出<br>yy,5yy							复制				<br>p								粘贴				<br>dd,5dd							删除<br>:/[content]						查询				<br>n								下一个<br>:set nu							设置行号			<br>G								末行<br>gg								首行<br>u								撤销				<br>:[location]						定位行<br>location + G					定位行<br></code></pre></div></td></tr></table></figure>



<h2><span id="第7章-开机-重启用户登录注销">第7章 开机、重启，用户登录注销</span></h2><h3><span id="关机amp重启">关机&amp;重启</span></h3><figure class="highlight mipsasm"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs mipsasm"><span class="hljs-number">1</span>) <span class="hljs-keyword">shutdown </span>–h now 				立该进行关机<br><span class="hljs-number">2</span>) <span class="hljs-keyword">shudown </span>-h <span class="hljs-number">1</span> <span class="hljs-string">&quot;hello, 		1 分钟后会关机了&quot;</span><br><span class="hljs-number">3</span>) <span class="hljs-keyword">shutdown </span>–r now 				现在重新启动计算机<br><span class="hljs-number">4</span>) halt 						关机，作用和上面一样.<br><span class="hljs-number">5</span>) reboot 						现在重新启动计算机<br><span class="hljs-number">6</span>) <span class="hljs-keyword">sync </span>						把内存的数据同步到磁盘.<br></code></pre></div></td></tr></table></figure>

<p>shutdown默认是1分钟后关机，</p>
<p>注意一下</p>
<ol>
<li>不管是重启系统还是关闭系统，<font color="red">首先要运行 sync 命令，把内存中的数据写到磁盘中</font></li>
<li>目前的 shutdown/reboot/halt 等命令均已经在关机前进行了 sync </li>
</ol>
<h3><span id="用户登录和注销">用户登录和注销</span></h3><ol>
<li>登录时尽量少用 root 帐号登录，因为它是系统管理员，最大的权限，避免操作失误。可以利用普通用户登录，<font color="red">登录后再用<code>su - 用户名</code>命令来切换成系统管理员身份</font>。</li>
<li>在提示符下输入 logout 即可注销用户</li>
</ol>
<p>注意</p>
<ol>
<li>logout 注销指令在图形运行级别无效，在运行级别 3 （命令行模式）下有效。</li>
</ol>
<h2><span id="第8章-用户管理">第8章 用户管理</span></h2><h3><span id="常用命令">常用命令</span></h3><figure class="highlight markdown"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs markdown">useradd 用户名						添加用户<br>passwd 用户名						修改密码<br>pwd									显示当前用户所在的目录<br>userdel 用户名						删除用户<br>id 用户名							查询用户<br>su - 用户名						切换用户<br>whoami / who am I					查看当前用户/登录用户<br></code></pre></div></td></tr></table></figure>

<p>查询结果：</p>
<p>uid=0(root) gid=0(root) 组=0(root)</p>
<h3><span id="用户组">用户组</span></h3><p>没有给用户指定组，默认自己就是一组</p>
<figure class="highlight plaintext"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs mark">groupadd 组名						新增组<br>groupdel 组名						删除组<br>useradd –g 用户组 用户名				指定用户组添加用户<br>usermod –g 用户组 用户名				修改用户的组<br></code></pre></div></td></tr></table></figure>

<p>例子</p>
<figure class="highlight ebnf"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs ebnf"><span class="hljs-attribute">groupadd wudang</span><br><span class="hljs-attribute">useradd -g wudang zwj</span><br></code></pre></div></td></tr></table></figure>

<p><font color="red">注意是先组后名</font></p>
<h3><span id="三个文件">三个文件</span></h3><p><strong>/etc/passwd 文件</strong></p>
<p>用户（user）的配置文件，记录用户的各种信息</p>
<p>每行的含义：用户名:口令:用户标识号:组标识号:注释性描述:主目录:登录 Shell</p>
<p><strong>/etc/shadow 文件</strong></p>
<p>口令的配置文件</p>
<p>每行的含义：登录名:加密口令:最后一次修改时间:最小时间间隔:最大时间间隔:警告时间:不活动时间:失效时间:标志</p>
<p><strong>/etc/group 文件</strong></p>
<p>组(group)的配置文件，记录 Linux 包含的组的信息</p>
<p>每行含义：组名:口令:组标识号:组内用户列表</p>
<h2><span id="第9章-实用指令">第9章 实用指令</span></h2><h3><span id="运行级别说明">运行级别说明</span></h3><p>0 ：关机</p>
<p>1 ：单用户【找回丢失密码】</p>
<p>2：多用户状态没有网络服务</p>
<p><strong>3：多用户状态有网络服务</strong></p>
<p>4：系统未使用保留给用户</p>
<p><strong>5：图形界面</strong></p>
<p>6：系统重启</p>
<p>常用运行级别是 3 和 5 ，也可以指定默认运行级别， 后面演示</p>
<p><font color="red">命令：<code>init [0123456]</code> 应用案例： 通过 init 来切换不同的运行级别，比如动 5-3 ， 然后关机。</font></p>
<h3><span id="centos7-后运行级别说明">CentOS7 后运行级别说明</span></h3><p>在 centos7 以前， /etc/inittab 文件中 .</p>
<p>进行了简化 ，如下:</p>
<figure class="highlight dsconfig"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs dsconfig"><span class="hljs-string">multi-user</span>.<span class="hljs-string">target</span>: <span class="hljs-string">analogous</span> <span class="hljs-string">to</span> <span class="hljs-string">runlevel</span> <span class="hljs-string">3</span><br><span class="hljs-string">graphical</span>.<span class="hljs-string">target</span>: <span class="hljs-string">analogous</span> <span class="hljs-string">to</span> <span class="hljs-string">runlevel</span> <span class="hljs-string">5</span><br><span class="hljs-comment"># To view current default target, run:</span><br><span class="hljs-string">systemctl</span> <span class="hljs-built_in">get-default</span><br><span class="hljs-comment"># To set a default target, run:</span><br><span class="hljs-string">systemctl</span> <span class="hljs-built_in">set-default</span> <span class="hljs-string">TARGET</span>.<span class="hljs-string">target</span><br></code></pre></div></td></tr></table></figure>



<h3><span id="找回-root-密码">找回 root 密码</span></h3><p>暂时不学</p>
<h3><span id="帮助指令">帮助指令</span></h3><figure class="highlight stata"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs stata"><span class="hljs-keyword">man</span>				获得帮助信息					<span class="hljs-keyword">man</span> <span class="hljs-keyword">ls</span><br><span class="hljs-keyword">help</span>			获得<span class="hljs-keyword">shell</span>内置命令的帮助信息<br></code></pre></div></td></tr></table></figure>

<p>如果英语不太好的，也可以直接百度靠谱。</p>
<h3><span id="文件目录类">文件目录类</span></h3><figure class="highlight powershell"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs powershell"><span class="hljs-built_in">pwd</span> 指令							显示当前工作目录的绝对路径<br><br><span class="hljs-built_in">ls</span> 指令							显示文件<br>	<span class="hljs-literal">-a</span> 								显示当前目录所有的文件和目录，包括隐藏的。<br>	<span class="hljs-literal">-l</span> 								以列表的方式显示信息 等价于ll<br><br><span class="hljs-built_in">cd</span> 指令		 					切换到指定目录<br><br><span class="hljs-built_in">cd</span> ~ 或者 <span class="hljs-built_in">cd</span> : 					回到自己的家目录, 比如 你是 root ， <span class="hljs-built_in">cd</span>~到/root<br><br><span class="hljs-built_in">cd</span> .. 							回到当前目录的上一级目录<br><br>mkdir 指令						创建目录<br><br><span class="hljs-built_in">rmdir</span> 指令						删除空目录<br><br>touch 指令						创建空文件<br><br><br><br><span class="hljs-built_in">cp</span> 指令							拷贝文件到指定目录<br><br><span class="hljs-built_in">rm</span> 指令							移除文件或目录<br>	<span class="hljs-literal">-r</span> 								递归删除整个文件夹<br>	<span class="hljs-operator">-f</span> 								强制删除不提示<br><br><span class="hljs-built_in">mv</span> 指令							移动文件与目录或重命名<br><br><br><br><span class="hljs-built_in">cat</span> 指令							查看文件内容<br><br>more 指令							文本过滤器<br><br><span class="hljs-built_in">echo</span> 指令							输出内容到控制台<br><br>head 指令							显示文件的开头部分内容，默认情况下 head 指令显示文件的前 <span class="hljs-number">10</span> 行内容<br><br>tail 指令							输出文件中尾部的内容，默认情况下 tail 指令显示文件的后 <span class="hljs-number">10</span> 行内容。<br><br>`&gt;`  指令 						和 &gt;&gt; 指令	&gt; 输出重定向和 &gt;&gt; 追加<br><br>ln <span class="hljs-literal">-s</span> [原文件或目录] [软链接名]		软链接(符号链接)，类似于windows里的快捷方式<br><br><span class="hljs-built_in">rm</span> /home/myroot						删除软连接<br><br><span class="hljs-built_in">history</span> 指令						查看已经执行过历史命令,也可以执行历史指令<br></code></pre></div></td></tr></table></figure>

<p>more指令文本过滤器内置快捷键</p>
<figure class="highlight asciidoc"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs asciidoc">[space]							向下翻页<br>enter							向下翻一行<br>q								立刻离开more，不再显示该文件内容<br>ctrl+F							向下滚动一屏<br>ctrl+B							返回上一屏<br><span class="hljs-section">=								输出当前行号</span><br>:f								输出文件名和当前行行号<br></code></pre></div></td></tr></table></figure>

<p>less 指令（根据显示需要加载内容，对于显示大型文件具有较高的效率）</p>
<figure class="highlight css"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs css"><span class="hljs-selector-attr">[space]</span>							向下翻页<br><span class="hljs-selector-attr">[page down]</span>						向下翻页<br><span class="hljs-selector-attr">[page up]</span>						向上翻页<br>/<span class="hljs-selector-attr">[string]</span>						向下寻找字串，n向下寻找，N向上寻找<br>?<span class="hljs-selector-attr">[string]</span>						向上寻找字串，n向下寻找，N向上寻找<br><span class="hljs-selector-tag">q</span>								离开程序<br></code></pre></div></td></tr></table></figure>



<h3><span id="时间日期类">时间日期类</span></h3><figure class="highlight perl"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs perl"><span class="hljs-number">1</span>)date （功能描述：显示当前时间）<br><br><span class="hljs-number">2</span>)date +%Y （功能描述：显示当前年份）<br><br><span class="hljs-number">3</span>)date +%m（功能描述：显示当前月份）<br><br><span class="hljs-number">4</span>)date +%d （功能描述：显示当前是哪一天）<br><br><span class="hljs-number">5</span>)date <span class="hljs-string">&quot;+%Y-%m-%d %H:%M:%S&quot;</span>（功能描述：显示年月日时分秒）<br></code></pre></div></td></tr></table></figure>

<figure class="highlight applescript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs applescript"><span class="hljs-built_in">date</span> -s 字符串时间		设置日期<br><br>cal 指令		查看日历指令<br></code></pre></div></td></tr></table></figure>



<h3><span id="搜索查找类">搜索查找类</span></h3><figure class="highlight vim"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs vim"><span class="hljs-keyword">find</span> [搜索范围.当前/所有] [选项][要找的内容，支持通配符]<br>	-name							按照指定的文件名寻找<br>	-user							寻找属于指定用户名的文件<br>	-size							按指定的文件大小寻找<br><br><span class="hljs-keyword">find</span> / -name “ins*” 				查找文件名称是以ins开头的文件<br><span class="hljs-keyword">find</span> / -name “ins*” –<span class="hljs-keyword">ls</span><br><br><span class="hljs-keyword">find</span> / –user itcast –<span class="hljs-keyword">ls</span> 			查找用户itcast的文件<br><span class="hljs-keyword">find</span> / –user itcast –<span class="hljs-built_in">type</span> d –<span class="hljs-keyword">ls</span> 	查找用户itcast的目录<br><span class="hljs-keyword">find</span> / -perm -<span class="hljs-number">777</span> –<span class="hljs-built_in">type</span> d-<span class="hljs-keyword">ls</span> 		查找权限是<span class="hljs-number">777</span>的文件<br><br>locate 指令							可以快速定位文件路径。(通过数据库查找，比<span class="hljs-keyword">find</span>快)<br>									第一次运行前，必须使用 updatedb 指令创建 locate 数据库。<br><br>which 指令							可以查看某个指令在哪个目录下，比如 <span class="hljs-keyword">ls</span> 指令在哪个目录which <span class="hljs-keyword">ls</span><br><br>|									管道,其作用是将一个命令的输出用作另一个命令的输入<br><br><span class="hljs-keyword">grep</span> [选项] 查找内容 源文件<br>	-n								显示匹配行及行号<br>	-i								忽略字母大小写<br>	<br><span class="hljs-keyword">ps</span> –ef | <span class="hljs-keyword">grep</span> java  				查询名称中包含java的进程<br></code></pre></div></td></tr></table></figure>



<h3><span id="压缩和解压类">压缩和解压类</span></h3><figure class="highlight haml"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs haml">gzip/gunzip 指令					gzip 用于压缩文件， gunzip 用于解压的<br><br>zip/unzip 指令					zip 用于压缩文件， unzip 用于解压的，这个在项目打包发布中很有用的<br><br>tar 指令							它能够将用户所指定的文件或目录打包成一个文件，但不做压缩。一般Linux上常用的压缩方式是选用tar将许多文件打包成一个文件，再以gzip压缩命令压缩成xxx.tar.gz(或称为xxx.tgz)的文件。<br>	-<span class="ruby">c：创建一个新tar文件</span><br><span class="ruby"></span>    -<span class="ruby">v：显示运行过程的信息</span><br><span class="ruby"></span>    -<span class="ruby">f：指定文件名</span><br><span class="ruby"></span>    -<span class="ruby">z：调用gzip压缩命令进行压缩</span><br><span class="ruby"></span>    -<span class="ruby">t：查看压缩文件的内容</span><br><span class="ruby"></span>    -<span class="ruby">x：解开tar文件</span><br><span class="ruby"></span><br>打包：<br>tar –cvf xxx.tar ./*<br>打包并且压缩：<br>tar –zcvf xxx.tar.gz ./* <br><br>解压 <br>     tar –xvf xxx.tar<br>	tar -zxvf xxx.tar.gz -C /usr/aaa<br></code></pre></div></td></tr></table></figure>



<h2><span id="第10章-组管理和权限管理">第10章 组管理和权限管理</span></h2><p>在Linux中，每个用户必须属于一个组，不能独立于组外。在Linux中，每个文件，有<strong>所有者、所在组、其他组</strong>三个概念。</p>
<h3><span id="文件目录-所有者">文件/目录 所有者</span></h3><p>一般为文件的创建者,谁创建了该文件，就自然的成为该文件的所有者。</p>
<figure class="highlight mipsasm"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs mipsasm"><span class="hljs-keyword">ll	</span>							查看当前目录下文件的详细信息，就能看到所有者<br></code></pre></div></td></tr></table></figure>

<img src="http://wangpeng-imgsubmit.oss-cn-hangzhou.aliyuncs.com/img/20210922185039.png" srcset="/img/loading.gif" lazyload alt="image-20210922185039113" style="zoom:50%;">

<figure class="highlight perl"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs perl"><span class="hljs-keyword">chown</span> 用户名 文件名					修改文件所有者<br></code></pre></div></td></tr></table></figure>



<h3><span id="组的创建">组的创建</span></h3><figure class="highlight nginx"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs nginx"><span class="hljs-attribute">groupadd</span> 组名							创建组<br><br>useradd -g monster fox				创建一个用户 fox ，并放入到 monster 组中<br></code></pre></div></td></tr></table></figure>



<h3><span id="文件目录-所在组">文件/目录 所在组</span></h3><p>当某个用户创建了一个文件后，这个文件的所在组就是该用户所在的组(默认)。</p>
<figure class="highlight mipsasm"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs mipsasm"><span class="hljs-keyword">ll	</span>							查看当前目录下文件的详细信息，就能看到所在组				<br></code></pre></div></td></tr></table></figure>



<h3><span id="修改文件目录所在的组">修改文件/目录所在的组</span></h3><figure class="highlight nginx"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs nginx"><span class="hljs-attribute">chgrp</span> 组名 文件名						修改文件/目录所在的组<br></code></pre></div></td></tr></table></figure>



<h3><span id="其它组">其它组</span></h3><p>除文件的所有者和所在组的用户外，系统的其它用户都是文件的其它组</p>
<h3><span id="改变用户所在组">改变用户所在组</span></h3><p>在添加用户时，可以指定将该用户添加到哪个组中，同样的用 root 的管理权限可以改变某个用户所在的组。</p>
<figure class="highlight nginx"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs nginx"><span class="hljs-attribute">usermod</span> –g 新组名 用户名<br>usermod –d 目录名 用户名				改变该用户登陆的初始目录。特别说明：用户需要有进入到新目录的权限。<br></code></pre></div></td></tr></table></figure>



<h3><span id="权限的基本介绍">权限的基本介绍</span></h3><figure class="highlight crmsh"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs crmsh">-rwxrw-r-- <span class="hljs-number">1</span> root root <span class="hljs-number">1213</span> Feb <span class="hljs-number">2</span> <span class="hljs-number">09</span>:<span class="hljs-number">39</span> abc<br><br><span class="hljs-number">0</span>-<span class="hljs-number">9</span> 位说明<br>第 <span class="hljs-number">0</span> 位确定文件类型(d, - , l , c , b)<br>l 是链接，相当于 windows 的快捷方式<br>d 是目录，相当于 windows 的文件夹<br>c 是字符设备文件，鼠标，键盘<br>b 是块设备，比如硬盘<br>第 <span class="hljs-number">1</span>-<span class="hljs-number">3</span> 位确定所有者（该文件的所有者）拥有该文件的权限。---<span class="hljs-keyword">User</span><br><span class="hljs-title">第 4-6</span> 位确定所属组（同用户组的）拥有该文件的权限，---<span class="hljs-keyword">Group</span><br><span class="hljs-title">第 7-9</span> 位确定其他用户拥有该文件的权限 ---Other<br></code></pre></div></td></tr></table></figure>



<h3><span id="rwx-权限详解难点">rwx 权限详解，难点</span></h3><h4><span id="rwx-作用到文件">rwx 作用到文件</span></h4><figure class="highlight less"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs less"><span class="hljs-selector-tag">1</span>) <span class="hljs-selector-attr">[ r ]</span>代表可读(read): 可以读取,查看<br><br><span class="hljs-selector-tag">2</span>) <span class="hljs-selector-attr">[ w ]</span>代表可写(write): 可以修改,但是不代表可以删除该文件,删除一个文件的前提条件是对该文件所在的目录有写权<br>限，才能删除该文件.<br><br><span class="hljs-selector-tag">3</span>) <span class="hljs-selector-attr">[ x ]</span>代表可执行(execute):可以被执行<br></code></pre></div></td></tr></table></figure>

<h4><span id="rwx-作用到目录">rwx 作用到目录</span></h4><figure class="highlight less"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs less"><span class="hljs-selector-tag">1</span>) <span class="hljs-selector-attr">[ r ]</span>代表可读(read): 可以读取，<span class="hljs-selector-tag">ls</span> 查看目录内容<br><br><span class="hljs-selector-tag">2</span>) <span class="hljs-selector-attr">[ w ]</span>代表可写(write): 可以修改, 对目录内创建+删除+重命名目录<br><br><span class="hljs-selector-tag">3</span>) <span class="hljs-selector-attr">[ x ]</span>代表可执行(execute):可以进入该目录<br></code></pre></div></td></tr></table></figure>



<h3><span id="修改权限-chmod">修改权限-chmod</span></h3><p>通过 chmod 指令，可以修改文件或者目录的权限。</p>
<h4><span id="第一种方式-变更权限">第一种方式：+ 、-、= 变更权限</span></h4><figure class="highlight perl"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs perl">u:所有者 g:所有组 o:其他人 a:所有人(u、g、o 的总和)<br><br><span class="hljs-number">1</span>) <span class="hljs-keyword">chmod</span> u=rwx,g=rx,o=<span class="hljs-keyword">x</span> 文件/目录名<br><br><span class="hljs-number">2</span>) <span class="hljs-keyword">chmod</span> o+w 文件/目录名<br><br><span class="hljs-number">3</span>) <span class="hljs-keyword">chmod</span> a-<span class="hljs-keyword">x</span> 文件/目录名<br></code></pre></div></td></tr></table></figure>

<h4><span id="第二种方式通过数字变更权限">第二种方式：通过数字变更权限</span></h4><figure class="highlight routeros"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs routeros"><span class="hljs-attribute">r</span>=4 <span class="hljs-attribute">w</span>=2 <span class="hljs-attribute">x</span>=1 <span class="hljs-attribute">rwx</span>=4+2+1=7<br><br>chmod <span class="hljs-attribute">u</span>=rwx,g=rx,o=x 文件目录名<br><br>相当于 chmod 751 文件/目录名<br></code></pre></div></td></tr></table></figure>



<h3><span id="修改文件所有者-chown">修改文件所有者-chown</span></h3><figure class="highlight haxe"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs haxe">chown <span class="hljs-keyword">new</span><span class="hljs-type">owner</span> 文件/目录 				改变所有者<br><br>chown <span class="hljs-keyword">new</span><span class="hljs-type">owner</span>:<span class="hljs-keyword">new</span><span class="hljs-type">group</span> 文件/目录 		改变所有者和所在组<br><br>-R 										如果是目录 则使其下所有子文件或目录递归生效<br></code></pre></div></td></tr></table></figure>



<h3><span id="修改文件目录所在组-chgrp">修改文件/目录所在组-chgrp</span></h3><figure class="highlight haxe"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs haxe">chgrp <span class="hljs-keyword">new</span><span class="hljs-type">group</span> 文件/目录 				改变所在组<br></code></pre></div></td></tr></table></figure>



<h3><span id="最佳实践-警察和土匪游戏">最佳实践-警察和土匪游戏</span></h3><p>police ， bandit<br>jack, jerry: 警察<br>xh, xq: 土匪</p>
<ol>
<li>创建组 groupadd police ; groupadd bandit</li>
<li>创建用户<br>useradd -g police jack ; useradd -g police jerry<br>useradd -g bandit xh; useradd -g bandit xq</li>
<li>jack 创建一个文件，自己可以读 r 写 w，本组人可以读，其它组没人任何权限<br>首先 jack 登录 ； vim jack.txt ; chmod 640 jack.txt</li>
<li>jack 修改该文件，让其它组人可以读, 本组人可以读写<br>chmod o=r,g=r jack.txt</li>
<li>xh 投靠 警察，看看是否可以读写.<br>usermod -g police xh</li>
<li>测试，看看 xh 是否可以读写，xq 是否可以, 小结论，就是如果要对目录内的文件进行操作，需要要有对该目录的<br>相应权限</li>
</ol>
<h3><span id="课后练习">课后练习</span></h3><figure class="highlight less"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs less"><span class="hljs-selector-tag">1</span>) 建立两个组（神仙(sx),妖怪(yg)）<br><br><span class="hljs-selector-tag">2</span>) 建立四个用户(唐僧,悟空，八戒，沙僧)<br><br><span class="hljs-selector-tag">3</span>) 设置密码<br><br><span class="hljs-selector-tag">4</span>) 把悟空，八戒放入妖怪，唐僧沙僧在神仙<br><br><span class="hljs-selector-tag">5</span>) 用悟空建立一个文件 （<span class="hljs-selector-tag">monkey</span><span class="hljs-selector-class">.java</span> 该文件要输出<span class="hljs-selector-tag">i</span> <span class="hljs-selector-tag">am</span> <span class="hljs-selector-tag">monkey</span>）<br><br><span class="hljs-selector-tag">6</span>) 给八戒一个可以 <span class="hljs-selector-tag">r</span> <span class="hljs-selector-tag">w</span> 的权限<br><br><span class="hljs-selector-tag">7</span>) 八戒修改 <span class="hljs-selector-tag">monkey</span><span class="hljs-selector-class">.java</span> 加入一句话( i am pig)<br><br><span class="hljs-selector-tag">8</span>) 唐僧 沙僧 对该文件没有权限<br><br><span class="hljs-selector-tag">9</span>) 把 沙僧 放入妖怪组<br><br><span class="hljs-selector-tag">10</span>) 让沙僧 修改 该文件 <span class="hljs-selector-tag">monkey</span>, 加入一句话 (<span class="hljs-string">&quot;我是沙僧，我是妖怪!&quot;</span>);<br><br><span class="hljs-selector-tag">11</span>)<br>对文件夹 <span class="hljs-selector-tag">rwx</span> 的细节讨论和测试!!!<br><span class="hljs-selector-tag">x</span>: 表示可以进入到该目录, 比如 <span class="hljs-selector-tag">cd</span><br><span class="hljs-selector-tag">r</span>: 表示可以 <span class="hljs-selector-tag">ls</span> , 将目录的内容显示<br><span class="hljs-selector-tag">w</span>: 表示可以在该目录，删除或者创建文件<br></code></pre></div></td></tr></table></figure>



<h3><span id="课后练习2">课后练习2</span></h3><figure class="highlight apache"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs apache"><span class="hljs-attribute">1</span>) 用 root 登录，建立用户 mycentos,自己设定密码<br><br><span class="hljs-attribute">2</span>) 用 mycentos 登录，在主目录下建立目录 test/t<span class="hljs-number">11</span>/t<span class="hljs-number">1</span><br><br><span class="hljs-attribute">3</span>) 在 t<span class="hljs-number">1</span> 中建立一个文本文件 aa,用 vi 编辑其内容为 ls –al<br><br><span class="hljs-attribute">4</span>) 改变 aa 的权限为可执行文件[可以将当前日期追加到一个文件],运行该文件./aa<br><br><span class="hljs-attribute">5</span>) 删除新建立的目录 test/t<span class="hljs-number">11</span>/t<span class="hljs-number">1</span><br><br><span class="hljs-attribute">6</span>) 删除用户 mycentos 及其主目录中的内容<br><br><span class="hljs-attribute">7</span>) 将 linux 设置成进入到图形界面的<br><br><span class="hljs-attribute">8</span>) 重新启动 linux 或关机<br></code></pre></div></td></tr></table></figure>



<h2><span id="第11章-定时任务调度次要">第11章 定时任务调度（次要）</span></h2><h3><span id="crond-任务调度定时run">crond 任务调度（定时run）</span></h3><h4><span id="相关命令">相关命令</span></h4><figure class="highlight haml"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs haml">crontab<br>	-<span class="ruby">e					编辑crontab定时任务</span><br><span class="ruby"></span>	-<span class="ruby">l					查询crontab任务</span><br><span class="ruby"></span>	-<span class="ruby">r					删除当前用户所有的crontab任务</span><br><span class="ruby"></span>	<br>service crond restart [重启任务调度]<br></code></pre></div></td></tr></table></figure>



<h4><span id="快速入门">快速入门</span></h4><figure class="highlight awk"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs awk">设置任务调度文件（一般不用）：<span class="hljs-regexp">/etc/</span>crontab<br><br>设置个人任务调度。执行 crontab –e 命令。<br><br>接着输入任务到调度文件<br>如：*<span class="hljs-regexp">/1 * * * * ls –l /</span>etc<span class="hljs-regexp">/ &gt; /</span>tmp/to.txt<br>意思说每小时的每分钟执行 ls –l <span class="hljs-regexp">/etc/</span> &gt; <span class="hljs-regexp">/tmp/</span>to.txt 命令<br></code></pre></div></td></tr></table></figure>



<h4><span id="参数说明">参数说明</span></h4><p><img src="http://wangpeng-imgsubmit.oss-cn-hangzhou.aliyuncs.com/img/20210926182742.png" srcset="/img/loading.gif" lazyload alt="image-20210926182735851"></p>
<h4><span id="特殊符号的说明">特殊符号的说明</span></h4><p><img src="http://wangpeng-imgsubmit.oss-cn-hangzhou.aliyuncs.com/img/20210926182748.png" srcset="/img/loading.gif" lazyload alt="image-20210926182747954"></p>
<h4><span id="特殊时间执行案例">特殊时间执行案例</span></h4><p><img src="http://wangpeng-imgsubmit.oss-cn-hangzhou.aliyuncs.com/img/20210926182822.png" srcset="/img/loading.gif" lazyload alt="image-20210926182822569"></p>
<h4><span id="应用案例">应用案例</span></h4><figure class="highlight awk"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs awk">案例 <span class="hljs-number">1</span>：每隔 <span class="hljs-number">1</span> 分钟，就将当前的日期信息，追加到 <span class="hljs-regexp">/tmp/my</span>date 文件中<br>*<span class="hljs-regexp">/1 * * * * date &gt;&gt; /</span>tmp/mydate<br><br>案例 <span class="hljs-number">2</span>：每隔 <span class="hljs-number">1</span> 分钟， 将当前日期和日历都追加到 <span class="hljs-regexp">/home/my</span>cal 文件中<br>步骤:<br>(<span class="hljs-number">1</span>) vim <span class="hljs-regexp">/home/my</span>.sh 写入内容 date &gt;&gt; <span class="hljs-regexp">/home/my</span>cal 和 cal &gt;&gt; <span class="hljs-regexp">/home/my</span>cal<br>(<span class="hljs-number">2</span>) 给 my.sh 增加执行权限，chmod u+x <span class="hljs-regexp">/home/my</span>.sh<br>(<span class="hljs-number">3</span>) crontab -e 增加 *<span class="hljs-regexp">/1 * * * * /</span>home/my.sh<br><br>案例 <span class="hljs-number">3</span>: 每天凌晨 <span class="hljs-number">2</span>:<span class="hljs-number">00</span> 将 mysql 数据库 testdb ，备份到文件中。提示:指令为<br>mysqldump -u root -p 密码 数据库 &gt; <span class="hljs-regexp">/home/</span>db.bak<br>步骤(<span class="hljs-number">1</span>) crontab -e<br>步骤(<span class="hljs-number">2</span>) <span class="hljs-number">0</span> <span class="hljs-number">2</span> * * * mysqldump -u root -proot testdb &gt; <span class="hljs-regexp">/home/</span>db.bak<br></code></pre></div></td></tr></table></figure>



<h3><span id="at-定时任务一次定时run">at 定时任务（一次定时run）</span></h3><h4><span id="相关命令">相关命令</span></h4><figure class="highlight ada"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs ada"><span class="hljs-keyword">at</span> [选项] [时间]<br><br>Ctrl + D 结束 <span class="hljs-keyword">at</span> 命令的输入，输出两次<br></code></pre></div></td></tr></table></figure>



<h4><span id="at-命令选项">at 命令选项</span></h4><p><img src="http://wangpeng-imgsubmit.oss-cn-hangzhou.aliyuncs.com/img/20210926183340.png" srcset="/img/loading.gif" lazyload alt="image-20210926183340444"></p>
<h4><span id="at-时间定义">at 时间定义</span></h4><figure class="highlight apache"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs apache"><span class="hljs-attribute">1</span>）接受在当天的 hh:mm（小时:分钟）式的时间指定。假如该时间已过去，那么就放在第二天执行。 例如：<span class="hljs-number">04</span>:<span class="hljs-number">00</span><br><br><span class="hljs-attribute">2</span>）使用 midnight（深夜），noon（中午），teatime（饮茶时间，一般是下午 <span class="hljs-number">4</span> 点）等比较模糊的词语来指定时间。<br><br><span class="hljs-attribute">3</span>）采用 <span class="hljs-number">12</span> 小时计时制，即在时间后面加上 AM（上午）或 PM（下午）来说明是上午还是下午。 例如：<span class="hljs-number">12</span>pm<br><br><span class="hljs-attribute">4</span>）指定命令执行的具体日期，指定格式为 month day（月 日）或 mm/dd/yy（月/日/年）或 dd.mm.yy（日.月.年），指定的日期必须跟在指定时间的后面。 例如：<span class="hljs-number">04</span>:<span class="hljs-number">00</span> <span class="hljs-number">2021</span>-<span class="hljs-number">03</span>-<span class="hljs-number">1</span><br><br><span class="hljs-attribute">5</span>）使用相对计时法。指定格式为：now + count time-units ，now 就是当前时间，time-units 是时间单位，这里能够是 minutes（分钟）、hours（小时）、days（天）、weeks（星期）。count 是时间的数量，几天，几小时。 例如：now + <span class="hljs-number">5</span> minutes<br><br><span class="hljs-attribute">6</span>）直接使用 today（今天）、tomorrow（明天）来指定完成命令的时间。<br></code></pre></div></td></tr></table></figure>



<h4><span id="应用实例">应用实例</span></h4><p>案例 1：2 天后的下午 5 点执行 /bin/ls /home</p>
<p><img src="http://wangpeng-imgsubmit.oss-cn-hangzhou.aliyuncs.com/img/20210926183707.png" srcset="/img/loading.gif" lazyload alt="image-20210926183707804"></p>
<p>案例 2：atq 命令来查看系统中没有执行的工作任务</p>
<p>案例 3：明天 17 点钟，输出时间到指定文件内 比如/root/date100.log</p>
<p><img src="http://wangpeng-imgsubmit.oss-cn-hangzhou.aliyuncs.com/img/20210926183724.png" srcset="/img/loading.gif" lazyload alt="image-20210926183724925"></p>
<p>案例 4：2 分钟后，输出时间到指定文件内比如/root/date200.log</p>
<p><img src="http://wangpeng-imgsubmit.oss-cn-hangzhou.aliyuncs.com/img/20210926183736.png" srcset="/img/loading.gif" lazyload alt="image-20210926183736358"></p>
<p>案例 5：删除已经设置的任务 , atrm 编号</p>
<p>atrm 4 //表示将 job 队列，编号为 4 的 job 删除.</p>
<h2><span id="第12章-linux-磁盘分区-挂载次要">第12章 Linux 磁盘分区、挂载（次要）</span></h2><h3><span id="示意图">示意图</span></h3><p><img src="http://wangpeng-imgsubmit.oss-cn-hangzhou.aliyuncs.com/img/20210926183829.png" srcset="/img/loading.gif" lazyload alt="image-20210926183829048"></p>
<h3><span id="硬盘说明">硬盘说明</span></h3><p>Linux 硬盘分 IDE 硬盘和 SCSI 硬盘，目前基本上是 SCSI 硬盘</p>
<p>对于 IDE 硬盘，驱动器标识符为“hdx~”</p>
<p>“hd”表明分区所在设备的类型，这里是指 IDE 硬盘了。</p>
<p>“x”为盘号（a 为基本盘，b 为基本从属盘，c 为辅助主盘，d 为辅助从属盘）</p>
<p>“~”代表分区，前四个分区用数字 1 到 4 表示，它们是主分区或扩展分区，从 5 开始就是逻辑分区。例，hda3 表示为第一个 IDE 硬盘上的第三个主分区或扩展分区,hdb2表示为第二个 IDE 硬盘上的第二个主分区或扩展分区。</p>
<p>对于 SCSI 硬盘则标识为“sdx~”，SCSI 硬盘是用“sd”来表示分区所在设备的类型的，其余则和 IDE 硬盘的表示方法一样</p>
<h3><span id="查看所有设备挂载情况">查看所有设备挂载情况</span></h3><p><font color="red">命令 ：lsblk 或者 lsblk -f</font></p>
<p><img src="http://wangpeng-imgsubmit.oss-cn-hangzhou.aliyuncs.com/img/20210926184024.png" srcset="/img/loading.gif" lazyload alt="image-20210926184024603"></p>
<h3><span id="挂载的经典案例">挂载的经典案例</span></h3><p>下面我们以增加一块硬盘为例来熟悉下磁盘的相关指令和深入理解磁盘分区、挂载、卸载的概念。</p>
<h4><span id="如何增加一块硬盘">如何增加一块硬盘</span></h4><ol>
<li>虚拟机添加硬盘</li>
<li>分区</li>
<li>格式化</li>
<li>挂载</li>
<li>设置可以自动挂载</li>
</ol>
<h4><span id="虚拟机增加硬盘步骤1">虚拟机增加硬盘步骤1</span></h4><p><img src="http://wangpeng-imgsubmit.oss-cn-hangzhou.aliyuncs.com/img/20210926184103.png" srcset="/img/loading.gif" lazyload alt="image-20210926184102995"></p>
<h4><span id="虚拟机增加硬盘步骤2">虚拟机增加硬盘步骤2</span></h4><p><font color="red">分区命令 fdisk /dev/sdb</font></p>
<p>开始对/sdb 分区<br>m 显示命令列表<br>p 显示磁盘分区 同 fdisk –l<br>n 新增分区<br>d 删除分区<br>w 写入并退出</p>
<p>说明： 开始分区后输入 n，新增分区，然后选择 p，分区类型为主分区。两次回车默认剩余全部空间。最后输入 w写入分区并退出，若不保存退出输入 q。</p>
<p><img src="http://wangpeng-imgsubmit.oss-cn-hangzhou.aliyuncs.com/img/20210926184140.png" srcset="/img/loading.gif" lazyload alt="image-20210926184140266"></p>
<h4><span id="虚拟机增加硬盘步骤3">虚拟机增加硬盘步骤3</span></h4><p>格式化磁盘<br>分区命令:mkfs -t ext4 /dev/sdb1<br>其中 ext4 是分区类型</p>
<h4><span id="虚拟机增加硬盘步骤4">虚拟机增加硬盘步骤4</span></h4><p>挂载: 将一个分区与一个目录联系起来，</p>
<p><font color="red">mount 设备名称 挂载目录</font></p>
<p>例如： mount /dev/sdb1 /newdisk</p>
<p><font color="red">umount 设备名称 或者 挂载目录</font></p>
<p>umount /dev/sdb1 或者 umount /newdisk</p>
<p><font color="blue">注意：用命令行挂载,重启后会失效</font></p>
<h4><span id="虚拟机增加硬盘步骤5">虚拟机增加硬盘步骤5</span></h4><p>永久挂载: 通过修改/etc/fstab 实现挂载</p>
<p>添加完成后 执行 mount –a 即刻生效</p>
<p><img src="http://wangpeng-imgsubmit.oss-cn-hangzhou.aliyuncs.com/img/20210926184312.png" srcset="/img/loading.gif" lazyload alt="image-20210926184312198"></p>
<h3><span id="磁盘情况查询">磁盘情况查询</span></h3><h4><span id="查询系统整体磁盘使用情况">查询系统整体磁盘使用情况</span></h4><p><font color="red">df -h</font></p>
<p><img src="http://wangpeng-imgsubmit.oss-cn-hangzhou.aliyuncs.com/img/20210926184332.png" srcset="/img/loading.gif" lazyload alt="image-20210926184331938"></p>
<h4><span id="查询指定目录的磁盘占用情况">查询指定目录的磁盘占用情况</span></h4><figure class="highlight haml"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs haml">du -h<br>	-<span class="ruby">s 指定目录占用大小汇总</span><br><span class="ruby"></span>	-<span class="ruby">h 带计量单位</span><br><span class="ruby"></span>	-<span class="ruby">a 含文件</span><br><span class="ruby"></span>	-<span class="ruby">-max-depth=<span class="hljs-number">1</span> 子目录深度</span><br><span class="ruby"></span>	-<span class="ruby">c 列出明细的同时，增加汇总值</span><br></code></pre></div></td></tr></table></figure>

<p>应用实例</p>
<p>查询 /opt 目录的磁盘占用情况，深度为 1</p>
<p><img src="http://wangpeng-imgsubmit.oss-cn-hangzhou.aliyuncs.com/img/20210926184401.png" srcset="/img/loading.gif" lazyload alt="image-20210926184401742"></p>
<h3><span id="磁盘情况-工作实用指令">磁盘情况-工作实用指令</span></h3><figure class="highlight vim"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs vim"><span class="hljs-number">1</span>) 统计/<span class="hljs-keyword">opt</span> 文件夹下文件的个数<br>	<span class="hljs-keyword">ls</span> -<span class="hljs-keyword">l</span> /<span class="hljs-keyword">opt</span> | <span class="hljs-keyword">grep</span> <span class="hljs-string">&quot;^-&quot;</span> | wc -<span class="hljs-keyword">l</span><br>	<br><span class="hljs-number">2</span>) 统计/<span class="hljs-keyword">opt</span> 文件夹下目录的个数<br>	<span class="hljs-keyword">ls</span> -<span class="hljs-keyword">l</span> /<span class="hljs-keyword">opt</span> | <span class="hljs-keyword">grep</span> <span class="hljs-string">&quot;^d&quot;</span> | wc -<span class="hljs-keyword">l</span><br>	<br><span class="hljs-number">3</span>) 统计/<span class="hljs-keyword">opt</span> 文件夹下文件的个数，包括子文件夹里的<br>	<span class="hljs-keyword">ls</span> -lR /<span class="hljs-keyword">opt</span> | <span class="hljs-keyword">grep</span> <span class="hljs-string">&quot;^-&quot;</span> | wc -<span class="hljs-keyword">l</span><br>	<br><span class="hljs-number">4</span>)统计/<span class="hljs-keyword">opt</span> 文件夹下目录的个数，包括子文件夹里的<br>	<span class="hljs-keyword">ls</span> -lR /<span class="hljs-keyword">opt</span> | <span class="hljs-keyword">grep</span> <span class="hljs-string">&quot;^d&quot;</span> | wc -<span class="hljs-keyword">l</span><br>	<br><span class="hljs-number">5</span>)以树状显示目录结构 tree 目录 ， 注意，如果没有 tree ,则使用yum install tree安装<br></code></pre></div></td></tr></table></figure>

<p><img src="http://wangpeng-imgsubmit.oss-cn-hangzhou.aliyuncs.com/img/20210926184451.png" srcset="/img/loading.gif" lazyload alt="image-20210926184451146"></p>
<h2><span id="第13章-网络配置重要">第13章 网络配置（重要）</span></h2><h3><span id="原理图">原理图</span></h3><p><img src="http://wangpeng-imgsubmit.oss-cn-hangzhou.aliyuncs.com/img/20210926184549.png" srcset="/img/loading.gif" lazyload alt="image-20210926184549104"></p>
<h3><span id="查看网络ip-和网关">查看网络IP 和网关</span></h3><h4><span id="查看虚拟网络编辑器和修改ip-地址">查看虚拟网络编辑器和修改IP 地址</span></h4><p><img src="http://wangpeng-imgsubmit.oss-cn-hangzhou.aliyuncs.com/img/20210926184618.png" srcset="/img/loading.gif" lazyload alt="image-20210926184618735"></p>
<h4><span id="查看网关">查看网关</span></h4><p><img src="http://wangpeng-imgsubmit.oss-cn-hangzhou.aliyuncs.com/img/20210926184630.png" srcset="/img/loading.gif" lazyload alt="image-20210926184630814"></p>
<h4><span id="查看-windows-环境的中-vmnet8-网络配置-ipconfig-指令">查看 windows 环境的中 VMnet8 网络配置 (ipconfig 指令)</span></h4><p><img src="http://wangpeng-imgsubmit.oss-cn-hangzhou.aliyuncs.com/img/20210926184644.png" srcset="/img/loading.gif" lazyload alt="image-20210926184644771"></p>
<h4><span id="查看-linux-的网络配置-ifconfig">查看 linux 的网络配置 ifconfig</span></h4><p><img src="http://wangpeng-imgsubmit.oss-cn-hangzhou.aliyuncs.com/img/20210926184652.png" srcset="/img/loading.gif" lazyload alt="image-20210926184652884"></p>
<h3><span id="ping-测试主机之间网络连通性">ping 测试主机之间网络连通性</span></h3><p><font color="red">ping 目的主机 （功能描述：测试当前服务器是否可以连接目的主机）</font></p>
<h3><span id="linux-网络环境配置">linux 网络环境配置</span></h3><h4><span id="第一种方法自动获取dhcp">第一种方法(自动获取DHCP)</span></h4><p><img src="http://wangpeng-imgsubmit.oss-cn-hangzhou.aliyuncs.com/img/20210926184824.png" srcset="/img/loading.gif" lazyload alt="image-20210926184823942"></p>
<h4><span id="第二种方法指定ip">第二种方法(指定ip)</span></h4><p>图形化界面的操作就不说了，下面说明一下命令行方式的设置ip（一般作为服务器都会固定一下ip地址）</p>
<p><font color="red">编辑 vi /etc/sysconfig/network-scripts/ifcfg-ens33</font></p>
<p>要求：将 ip 地址配置的静态的，比如: ip 地址为 192.168.200.130</p>
<figure class="highlight routeros"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs routeros">ifcfg-ens33 文件说明<br><span class="hljs-attribute">DEVICE</span>=eth0 #接口名（设备,网卡）<br><span class="hljs-attribute">HWADDR</span>=00:0C:2x:6x:0x:xx #MAC 地址<br><span class="hljs-attribute">TYPE</span>=Ethernet #网络类型（通常是 Ethemet）<br><span class="hljs-attribute">UUID</span>=926a57ba-92c6-4231-bacb-f27e5e6a9f44 #随机 id<br><span class="hljs-comment">#系统启动的时候网络接口是否有效（yes/no）</span><br><span class="hljs-attribute">ONBOOT</span>=<span class="hljs-literal">yes</span><br><span class="hljs-comment"># IP 的配置方法[none|static|bootp|dhcp]（引导时不使用协议|静态分配 IP|BOOTP 协议|DHCP 协议）</span><br><span class="hljs-attribute">BOOTPROTO</span>=static<br><span class="hljs-comment">#IP 地址</span><br><span class="hljs-attribute">IPADDR</span>=192.168.200.130<br><span class="hljs-comment">#网关</span><br><span class="hljs-attribute">GATEWAY</span>=192.168.200.2<br><span class="hljs-comment">#域名解析器</span><br><span class="hljs-attribute">DNS1</span>=192.168.200.2<br><br>重启网络服务或者重启系统生效<span class="hljs-built_in"></span><br><span class="hljs-built_in">service network </span>restart 、reboot<br></code></pre></div></td></tr></table></figure>



<h3><span id="设置主机名和hosts-映射">设置主机名和hosts 映射</span></h3><h4><span id="设置主机名">设置主机名</span></h4><p>为了方便记忆，可以给 linux 系统设置主机名,也可以根据需要修改主机名</p>
<p><font color="red">指令 hostname ： 查看主机名</font></p>
<p><font color="red">修改文件在 /etc/hostname 指定</font></p>
<p>修改后，重启生效reboot</p>
<h4><span id="设置hosts-映射">设置hosts 映射</span></h4><p><strong>windows</strong></p>
<p>在 C:\Windows\System32\drivers\etc\hosts</p>
<p>文件指定即可</p>
<p>案例: 192.168.200.130 wp100</p>
<p><strong>linux</strong></p>
<p>在 /etc/hosts文件指定</p>
<p>案例: 192.168.200.1 ThinkPad-PC</p>
<h4><span id="主机名解析过程分析hosts-dns">主机名解析过程分析(Hosts、DNS)</span></h4><h4><span id="hosts-是什么">Hosts 是什么</span></h4><p>一个文本文件，用来记录 IP 和 Hostname(主机名)的映射关系</p>
<h4><span id="dns">DNS</span></h4><p>DNS，就是 Domain Name System 的缩写，翻译过来就是域名系统<br>是互联网上作为域名和 IP 地址相互映射的一个分布式数据库</p>
<h2><span id="第14章-进程管理重要">第14章 进程管理（重要）</span></h2><p>有空再学一遍</p>
<h3><span id="示意图">示意图</span></h3><p><img src="http://wangpeng-imgsubmit.oss-cn-hangzhou.aliyuncs.com/img/20210926192305.png" srcset="/img/loading.gif" lazyload alt="image-20210926192305205"></p>
<h3><span id="显示系统执行的进程">显示系统执行的进程</span></h3><p><font color="red">ps 命令</font>是用来查看目前系统中，有哪些正在执行，以及它们执行的状况。可以不加任何参数.</p>
<p><img src="http://wangpeng-imgsubmit.oss-cn-hangzhou.aliyuncs.com/img/20210926193648.png" srcset="/img/loading.gif" lazyload alt="image-20210926193648127"></p>
<h4><span id="ps-详解">ps 详解</span></h4><ol>
<li>指令：ps –aux|grep xxx ，比如我看看有没有 sshd 服务</li>
<li>指令说明<br>System V 展示风格<br>USER：用户名称<br>PID：进程号<br>%CPU：进程占用 CPU 的百分比<br>%MEM：进程占用物理内存的百分比<br>VSZ：进程占用的虚拟内存大小（单位：KB）<br>RSS：进程占用的物理内存大小（单位：KB）<br>TT：终端名称,缩写 .<br>STAT：进程状态，其中 S-睡眠，s-表示该进程是会话的先导进程，N-表示进程拥有比普通优先级更低的优先级，R-<br>正在运行，D-短期等待，Z-僵死进程，T-被跟踪或者被停止等等<br>STARTED：进程的启动时间<br>TIME：CPU 时间，即进程使用 CPU 的总时间<br>COMMAND：启动进程所用的命令和参数，如果过长会被截断显示</li>
</ol>
<h4><span id="应用实例">应用实例</span></h4><p>要求：以全格式显示当前所有的进程，查看进程的父进程。 查看 sshd 的父进程信息<br>ps -ef 是以全格式显示当前所有的进程<br>-e 显示所有进程。-f 全格式<br>ps -ef|grep sshd</p>
<p>是 BSD 风格</p>
<p>UID：用户 ID<br>PID：进程 ID<br>PPID：父进程 ID</p>
<p>C：CPU 用于计算执行优先级的因子。数值越大，表明进程是 CPU 密集型运算，执行优先级会降低；数值越小，表明进程是 I/O 密集型运算，执行优先级会提高</p>
<p>STIME：进程启动的时间<br>TTY：完整的终端名称<br>TIME：CPU 时间<br>CMD：启动进程所用的命令和参数</p>
<h3><span id="终止进程kill-和-killall">终止进程kill 和 killall</span></h3><h4><span id="基本语法">基本语法</span></h4><p><font color="red">kill [选项] 进程号（功能描述：通过进程号杀死/终止进程）</font><br><font color="red">killall 进程名称 （功能描述：通过进程名称杀死进程，也支持通配符，这在系统因负载过大而变得很慢时很有用）</font></p>
<h4><span id="常用选项">常用选项</span></h4><p>-9 :表示强迫进程立即停止</p>
<h4><span id="案例">案例</span></h4><ol>
<li>案例 1：踢掉某个非法登录用户<br>kill 进程号 , 比如 kill 11421</li>
<li>案例 2: 终止远程登录服务 sshd, 在适当时候再次重启 sshd 服务<br>kill sshd 对应的进程号; /bin/systemctl start sshd.service</li>
<li>案例 3: 终止多个 gedit , 演示 killall gedit</li>
<li>案例 4：强制杀掉一个终端, 指令 kill -9 bash 对应的进程号</li>
</ol>
<h3><span id="查看进程树-pstree">查看进程树 pstree</span></h3><h4><span id="基本语法">基本语法</span></h4><p>pstree [选项] ,可以更加直观的来看进程信息</p>
<h4><span id="常用选项">常用选项</span></h4><p>-p :显示进程的 PID<br>-u :显示进程的所属用户</p>
<h4><span id="应用实例">应用实例</span></h4><p>案例 1：请你树状的形式显示进程的 pid<br>pstree -p</p>
<p>案例 2：请你树状的形式进程的用户<br>pstree -u</p>
<p><img src="http://wangpeng-imgsubmit.oss-cn-hangzhou.aliyuncs.com/img/20210926205634.png" srcset="/img/loading.gif" lazyload alt="image-20210926194714712"></p>
<h3><span id="服务service管理">服务(service)管理</span></h3><p>服务(service) 本质就是进程，但是是运行在后台的，通常都会监听某个端口，等待其它程序的请求，比如(mysqld,sshd防火墙等)，因此我们又称为守护进程，是 Linux 中非常重要的知识点。【原理图】</p>
<h4><span id="service-管理指令">service 管理指令</span></h4><p>1)service 服务名 [start | stop | restart | reload | status]</p>
<p>2)在 CentOS7.0 后 很多服务不再使用 service ,而是 systemctl (后面专门讲)</p>
<p>3)service 指令管理的服务在 /etc/init.d 查看</p>
<p><img src="http://wangpeng-imgsubmit.oss-cn-hangzhou.aliyuncs.com/img/20210926194804.png" srcset="/img/loading.gif" lazyload alt="image-20210926194804882"></p>
<h4><span id="service-管理指令案例">service 管理指令案例</span></h4><p>请使用 service 指令，查看，关闭，启动network</p>
<p>[注意：在虚拟系统演示，因为网络连接会关闭]</p>
<p>指令:</p>
<figure class="highlight routeros"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs routeros">service<span class="hljs-built_in"> network </span>status<span class="hljs-built_in"></span><br><span class="hljs-built_in">service network </span>stop<span class="hljs-built_in"></span><br><span class="hljs-built_in">service network </span>start<br></code></pre></div></td></tr></table></figure>



<h4><span id="查看服务名">查看服务名</span></h4><p>方式 1：使用 setup -&gt; 系统服务就可以看到全部。</p>
<p>setup</p>
<p><img src="http://wangpeng-imgsubmit.oss-cn-hangzhou.aliyuncs.com/img/20210926194856.png" srcset="/img/loading.gif" lazyload alt="image-20210926194855919"></p>
<p>方式 2: /etc/init.d 看到 service 指令管理的服务<br>ls -l /etc/init.d</p>
<h4><span id="服务的运行级别runlevel">服务的运行级别(runlevel)</span></h4><p>Linux 系统有 7 种运行级别(runlevel)：常用的是级别 3 和 5<br>运行级别 0：系统停机状态，系统默认运行级别不能设为 0，否则不能正常启动<br>运行级别 1：单用户工作状态，root 权限，用于系统维护，禁止远程登陆<br>运行级别 2：多用户状态(没有 NFS)，不支持网络<br>运行级别 3：完全的多用户状态(有 NFS)，无界面，登陆后进入控制台命令行模式<br>运行级别 4：系统未使用，保留<br>运行级别 5：X11 控制台，登陆后进入图形 GUI 模式<br>运行级别 6：系统正常关闭并重启，默认运行级别不能设为 6，否则不能正常启动</p>
<p>开机的流程说明：</p>
<p><img src="http://wangpeng-imgsubmit.oss-cn-hangzhou.aliyuncs.com/img/20210926195049.png" srcset="/img/loading.gif" lazyload alt="image-20210926195049474"></p>
<h4><span id="centos7-后运行级别说明">CentOS7 后运行级别说明</span></h4><figure class="highlight dsconfig"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs dsconfig">在 /<span class="hljs-string">etc</span>/<span class="hljs-string">initab</span><br>进行了简化 ，如下:<br><span class="hljs-string">multi-user</span>.<span class="hljs-string">target</span>: <span class="hljs-string">analogous</span> <span class="hljs-string">to</span> <span class="hljs-string">runlevel</span> <span class="hljs-string">3</span><br><span class="hljs-string">graphical</span>.<span class="hljs-string">target</span>: <span class="hljs-string">analogous</span> <span class="hljs-string">to</span> <span class="hljs-string">runlevel</span> <span class="hljs-string">5</span><br><span class="hljs-string">init</span> <span class="hljs-string">0</span><br><span class="hljs-comment"># To view current default target, run:</span><br><span class="hljs-string">systemctl</span> <span class="hljs-built_in">get-default</span><br><br><span class="hljs-comment"># To set a default target, run:</span><br><span class="hljs-string">systemctl</span> <span class="hljs-built_in">set-default</span> <span class="hljs-string">TARGET</span>.<span class="hljs-string">target</span><br></code></pre></div></td></tr></table></figure>



<h4><span id="chkconfig-指令">chkconfig 指令</span></h4><p>介绍<br>通过 chkconfig 命令可以给服务的各个运行级别设置自 启动/关闭<br>chkconfig 指令管理的服务在 /etc/init.d 查看<br>注意: Centos7.0 后，很多服务使用 systemctl 管理 (后面马上讲)</p>
<h4><span id="chkconfig-基本语法">chkconfig 基本语法</span></h4><figure class="highlight apache"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs apache"><span class="hljs-attribute">1</span>) 查看服务 chkconfig --list<span class="hljs-meta"> [| grep xxx]</span><br><br><span class="hljs-attribute">2</span>) chkconfig 服务名 --list<br><br><span class="hljs-attribute">3</span>)chkconfig --level <span class="hljs-number">5</span> 服务名 <span class="hljs-literal">on</span>/<span class="hljs-literal">off</span><br></code></pre></div></td></tr></table></figure>

<p>案例演示 : 对 network 服务 进行各种操作, 把 network 在 3 运行级别,关闭自启动</p>
<figure class="highlight apache"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs apache"><span class="hljs-attribute">chkconfig</span> --level <span class="hljs-number">3</span> network <span class="hljs-literal">off</span><br><span class="hljs-attribute">chkconfig</span> --level <span class="hljs-number">3</span> network <span class="hljs-literal">on</span><br></code></pre></div></td></tr></table></figure>

<p>使用细节</p>
<p>chkconfig 重新设置服务后自启动或关闭，需要重启机器 reboot 生效.</p>
<h4><span id="systemctl-管理指令">systemctl 管理指令</span></h4><figure class="highlight awk"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs awk">基本语法： systemctl [start | stop | restart | status] 服务名<br>systemctl 指令管理的服务在 <span class="hljs-regexp">/usr/</span>lib<span class="hljs-regexp">/systemd/</span>system 查看<br></code></pre></div></td></tr></table></figure>



<h4><span id="systemctl-设置服务的自启动状态">systemctl 设置服务的自启动状态</span></h4><figure class="highlight dsconfig"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs dsconfig"><span class="hljs-string">systemctl</span> <span class="hljs-built_in">list-unit-files</span> [ | <span class="hljs-string">grep</span> 服务名] (查看服务开机启动状态,<span class="hljs-string">grep</span>可以进行过滤)<br><br><span class="hljs-string">systemctl</span> <span class="hljs-string">enable</span> 服务名 (设置服务开机启动)<br><span class="hljs-string">systemctl</span> <span class="hljs-string">disable</span> 服务名 (关闭服务开机启动)<br><span class="hljs-string">systemctl</span> <span class="hljs-string">is-enabled</span> 服务名 (查询某个服务是否是自启动的)<br></code></pre></div></td></tr></table></figure>



<h4><span id="应用案例查看-关闭-重启防火墙">应用案例（查看、关闭、重启防火墙）</span></h4><figure class="highlight smali"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs smali">查看当前防火墙的状况，关闭防火墙和重启防火墙。=&gt; firewalld.service<span class="hljs-keyword"></span><br><span class="hljs-keyword">system</span>ctl status firewalld; <span class="hljs-keyword"></span><br><span class="hljs-keyword">system</span>ctl stop firewalld; <span class="hljs-keyword"></span><br><span class="hljs-keyword">system</span>ctl start firewalld<br></code></pre></div></td></tr></table></figure>



<h4><span id="细节讨论防火墙">细节讨论（防火墙）</span></h4><p>关闭或者启用防火墙后，立即生效。[telnet 测试 某个端口即可]<br>这种方式只是临时生效，当重启系统后，还是回归以前对服务的设置。<br>如果希望设置某个服务自启动或关闭永久生效，要使用 systemctl [enable|disable] 服务名 . [演示]</p>
<h4><span id="打开或者关闭指定端口重要">打开或者关闭指定端口（重要！！！）</span></h4><p>在真正的生产环境，往往需要将防火墙打开，但问题来了，如果我们把防火墙打开，那么外部请求数据包就不能跟服务器监听端口通讯。这时，需要打开指定的端口。比如 80、22、8080 等，这个又怎么做呢？</p>
<p><img src="http://wangpeng-imgsubmit.oss-cn-hangzhou.aliyuncs.com/img/20210926195401.png" srcset="/img/loading.gif" lazyload alt="image-20210926195401704"></p>
<h4><span id="firewall-指令">firewall 指令</span></h4><figure class="highlight brainfuck"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs brainfuck"><span class="hljs-comment">打开端口:</span> <span class="hljs-comment">firewall</span><span class="hljs-literal">-</span><span class="hljs-comment">cmd</span> --<span class="hljs-comment">permanent</span> --<span class="hljs-comment">add</span><span class="hljs-literal">-</span><span class="hljs-comment">port=端口号/协议</span><br><br><span class="hljs-comment">关闭端口:</span> <span class="hljs-comment">firewall</span><span class="hljs-literal">-</span><span class="hljs-comment">cmd</span> --<span class="hljs-comment">permanent</span> --<span class="hljs-comment">remove</span><span class="hljs-literal">-</span><span class="hljs-comment">port=端口号/协议</span><br><br><span class="hljs-comment">重新载入</span><span class="hljs-string">,</span><span class="hljs-comment">才能生效</span> <span class="hljs-comment">:</span> <span class="hljs-comment">firewall</span><span class="hljs-literal">-</span><span class="hljs-comment">cmd</span> --<span class="hljs-comment">reload</span><br><br><span class="hljs-comment">查询端口是否开放:</span> <span class="hljs-comment">firewall</span><span class="hljs-literal">-</span><span class="hljs-comment">cmd</span> --<span class="hljs-comment">query</span><span class="hljs-literal">-</span><span class="hljs-comment">port=端口/协议</span><br></code></pre></div></td></tr></table></figure>



<h4><span id="linux下防火墙开放3306端口">linux下防火墙开放3306端口</span></h4><p>1、防火墙开放3306端口</p>
<figure class="highlight routeros"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs routeros">firewall-cmd <span class="hljs-attribute">--zone</span>=public <span class="hljs-attribute">--add-port</span>=3306/tcp --permanent<br></code></pre></div></td></tr></table></figure>

<p>2、关闭防火墙</p>
<figure class="highlight arduino"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs arduino">service iptables stop<br></code></pre></div></td></tr></table></figure>

<p>3、开启防火墙</p>
<figure class="highlight crmsh"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs crmsh">service iptables <span class="hljs-literal">start</span><br></code></pre></div></td></tr></table></figure>

<p>4、开机不自启防火墙</p>
<figure class="highlight ada"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs ada">chkconfig <span class="hljs-comment">--del iptables</span><br></code></pre></div></td></tr></table></figure>

<p>5、重启防火墙</p>
<figure class="highlight applescript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs applescript">chkconfig iptables <span class="hljs-keyword">on</span><br>或者<br>firewall-cmd <span class="hljs-comment">--reload</span><br></code></pre></div></td></tr></table></figure>

<p>   重新关闭</p>
<figure class="highlight nginx"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs nginx"><span class="hljs-attribute">chkconfig</span> iptables <span class="hljs-literal">off</span><br></code></pre></div></td></tr></table></figure>

<p>6、查看防火墙状态</p>
<figure class="highlight ebnf"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs ebnf"><span class="hljs-attribute">ervice iptables status</span>  <br></code></pre></div></td></tr></table></figure>

<p>7、查看已开启的端口</p>
<figure class="highlight ada"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs ada">firewall-cmd <span class="hljs-comment">--list-ports</span><br></code></pre></div></td></tr></table></figure>



<h4><span id="应用案例防火墙">应用案例（防火墙）</span></h4><figure class="highlight brainfuck"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs brainfuck"><span class="hljs-comment">启用防火墙，</span> <span class="hljs-comment">测试</span> <span class="hljs-comment">111</span> <span class="hljs-comment">端口是否能</span> <span class="hljs-comment">telnet</span> <span class="hljs-string">,</span> <span class="hljs-comment">不行</span><br><br><span class="hljs-comment">开放</span> <span class="hljs-comment">111</span> <span class="hljs-comment">端口</span><br><span class="hljs-comment">firewall</span><span class="hljs-literal">-</span><span class="hljs-comment">cmd</span> --<span class="hljs-comment">permanent</span> --<span class="hljs-comment">add</span><span class="hljs-literal">-</span><span class="hljs-comment">port=111/tcp</span> <span class="hljs-comment">;</span> <span class="hljs-comment">需要</span> <span class="hljs-comment">firewall</span><span class="hljs-literal">-</span><span class="hljs-comment">cmd</span> --<span class="hljs-comment">reload</span><br><br><span class="hljs-comment">再次关闭</span> <span class="hljs-comment">111</span> <span class="hljs-comment">端口</span><br><span class="hljs-comment">firewall</span><span class="hljs-literal">-</span><span class="hljs-comment">cmd</span> --<span class="hljs-comment">permanent</span> --<span class="hljs-comment">remove</span><span class="hljs-literal">-</span><span class="hljs-comment">port=111/tcp</span> <span class="hljs-comment">;</span> <span class="hljs-comment">需要</span> <span class="hljs-comment">firewall</span><span class="hljs-literal">-</span><span class="hljs-comment">cmd</span> --<span class="hljs-comment">reload</span><br></code></pre></div></td></tr></table></figure>



<h4><span id="动态监控进程">动态监控进程</span></h4><p>top 与 ps 命令很相似。它们都用来显示正在执行的进程。Top 与 ps 最大的不同之处，在于 top 在执行一段时间可以更新正在运行的的进程。</p>
<h4><span id="基本语法">基本语法</span></h4><p>top [选项]</p>
<p><img src="http://wangpeng-imgsubmit.oss-cn-hangzhou.aliyuncs.com/img/20210926195554.png" srcset="/img/loading.gif" lazyload alt="image-20210926195554403"></p>
<h4><span id="选项说明">选项说明</span></h4><p><img src="http://wangpeng-imgsubmit.oss-cn-hangzhou.aliyuncs.com/img/20210926195603.png" srcset="/img/loading.gif" lazyload alt="image-20210926195603026"></p>
<h4><span id="交互操作说明">交互操作说明</span></h4><p><img src="http://wangpeng-imgsubmit.oss-cn-hangzhou.aliyuncs.com/img/20210926195614.png" srcset="/img/loading.gif" lazyload alt="image-20210926195610667"></p>
<h4><span id="应用实例">应用实例</span></h4><figure class="highlight coq"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs coq">案例 <span class="hljs-number">1.</span>监视特定用户, 比如我们监控 tom 用户<br><span class="hljs-built_in">top</span>：输入此命令，按回车键，查看执行的进程。<br>u：然后输入“u”回车，再输入用户名，即可,<br><br>案例 <span class="hljs-number">2</span>：终止指定的进程, 比如我们要结束 tom 登录<br><span class="hljs-built_in">top</span>：输入此命令，按回车键，查看执行的进程。<br>k：然后输入“k”回车，再输入要结束的进程 ID 号<br>案例 <span class="hljs-number">3</span>:指定系统状态更新的时间(每隔 <span class="hljs-number">10</span> 秒自动更新),默认是<span class="hljs-number">3</span> 秒<br><span class="hljs-built_in">top</span> -d <span class="hljs-number">10</span><br></code></pre></div></td></tr></table></figure>



<h3><span id="监控网络状态">监控网络状态</span></h3><h4><span id="查看系统网络情况netstat">查看系统网络情况netstat</span></h4><figure class="highlight diff"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs diff">基本语法<br>netstat [选项]<br><br>选项说明<br><span class="hljs-deletion">-an 按一定顺序排列输出</span><br><span class="hljs-deletion">-p 显示哪个进程在调用</span><br><br>应用案例<br>请查看服务名为 sshd 的服务的信息。<br>netstat -anp | grep sshd<br></code></pre></div></td></tr></table></figure>

<p><img src="http://wangpeng-imgsubmit.oss-cn-hangzhou.aliyuncs.com/img/20210926195719.png" srcset="/img/loading.gif" lazyload alt="image-20210926195719294"></p>
<p><img src="http://wangpeng-imgsubmit.oss-cn-hangzhou.aliyuncs.com/img/20210926195723.png" srcset="/img/loading.gif" lazyload alt="image-20210926195723869"></p>
<h2><span id="第15章-rpm与yum">第15章 RPM与YUM</span></h2><h3><span id="rpm包的管理">rpm包的管理</span></h3><p>rpm 用于互联网下载包的打包及安装工具，它包含在某些 Linux 分发版中。它生成具有.RPM 扩展名的文件。RPM<br>是 RedHat Package Manager（RedHat 软件包管理工具）的缩写，类似 windows 的 setup.exe，这一文件格式名称虽然打上<br>了 RedHat 的标志，但理念是通用的。</p>
<h4><span id="rpm-包的简单查询指令">rpm 包的简单查询指令</span></h4><figure class="highlight vim"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs vim">查询已安装的 rpm 列表 rpm –<span class="hljs-keyword">qa</span>|<span class="hljs-keyword">grep</span> xx<br>举例： 看看当前系统，是否安装了 firefox<br>指令: rpm -<span class="hljs-keyword">qa</span> | <span class="hljs-keyword">grep</span> firefox<br></code></pre></div></td></tr></table></figure>



<h4><span id="rpm-包名基本格式">rpm 包名基本格式</span></h4><p>一个 rpm 包名：firefox-60.2.2-1.el7.centos.x86_64<br>名称:firefox<br>版本号：60.2.2-1<br>适用操作系统: el7.centos.x86_64<br>表示 centos7.x 的 64 位系统<br>如果是 i686、i386 表示 32 位系统，noarch 表示通用</p>
<h4><span id="rpm-包的其它查询指令">rpm 包的其它查询指令</span></h4><figure class="highlight vim"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs vim">rpm -<span class="hljs-keyword">qa</span>		查询所安装的所有 rpm 软件包<br>rpm -<span class="hljs-keyword">qa</span> | more<br>rpm -<span class="hljs-keyword">qa</span> | <span class="hljs-keyword">grep</span> <span class="hljs-keyword">X</span> [rpm -<span class="hljs-keyword">qa</span> | <span class="hljs-keyword">grep</span> firefox ]<br><br>rpm -q 软件包名 :查询软件包是否安装<br>案例：rpm -q firefox<br><br>rpm -qi 软件包名 ：查询软件包信息<br>案例: rpm -qi firefox<br>rpm -ql 软件包名 :查询软件包中的文件<br>比如： rpm -ql firefox<br><br>rpm -qf 文件全路径名 查询文件所属的软件包<br>rpm -qf /etc/passwd<br>rpm -qf /root/install.<span class="hljs-built_in">log</span><br></code></pre></div></td></tr></table></figure>



<h4><span id="卸载rpm-包">卸载rpm 包</span></h4><figure class="highlight stan"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs stan">基本语法<br><br>rpm -<span class="hljs-built_in">e</span> RPM 包的名称 <span class="hljs-comment">//erase</span><br><br>应用案例<br><br>删除 firefox 软件包<br><br>rpm -<span class="hljs-built_in">e</span> firefox<br></code></pre></div></td></tr></table></figure>

<p>细节讨论</p>
<p>如果其它软件包依赖于您要卸载的软件包，卸载时则会产生错误信息。<br>如： $ rpm -e foo<br>removing these packages would break dependencies:foo is needed by bar-1.0-1</p>
<p>如果我们就是要删除 foo 这个 rpm 包，可以增加参数 –nodeps ,就可以强制删除，但是一般不推荐这样做，因为依<br>赖于该软件包的程序可能无法运行<br>如：$ rpm -e –nodeps foo</p>
<h4><span id="安装rpm-包">安装rpm 包</span></h4><figure class="highlight routeros"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs routeros">基本语法<br>rpm -ivh RPM 包全路径名称<br><br>参数说明<br><span class="hljs-attribute">i</span>=install 安装<br><span class="hljs-attribute">v</span>=verbose 提示<br><span class="hljs-attribute">h</span>=hash 进度条<br><br>应用实例<br>演示卸载和安装 firefox 浏览器<br>rpm -e firefox<br>rpm -ivh firefox<br></code></pre></div></td></tr></table></figure>



<h3><span id="yum">yum</span></h3><p>Yum 是一个 Shell 前端软件包管理器。基于 RPM 包管理，能够从指定的服务器自动下载 RPM 包并且安装，可以自动处理依赖性关系，并且一次安装所有依赖的软件包。</p>
<h4><span id="yum-的基本指令">yum 的基本指令</span></h4><p>查询 yum 服务器是否有需要安装的软件<br><font color="red">yum list|grep xx 软件列表</font></p>
<h4><span id="安装指定的yum-包">安装指定的yum 包</span></h4><p>yum install xxx 下载安装</p>
<h4><span id="yum-应用实例">yum 应用实例</span></h4><figure class="highlight 1c"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs 1c">案例：请使用 yum 的方式来安装 firefox<br>rpm -e firefox<br>yum list <span class="hljs-string">| grep firefox</span><br>yum install firefox<br></code></pre></div></td></tr></table></figure>



<h2><span id="第16章-搭建javaee环境">第16章 搭建JavaEE环境</span></h2><p>如果需要在 Linux 下进行 JavaEE 的开发，我们需要安装如下软件</p>
<ol>
<li>  jdk 1.8</li>
<li>  tomcat 8.5</li>
<li>  mysql 5.7</li>
<li>  idea 2021</li>
</ol>
<h3><span id="安装-jdk">安装 JDK</span></h3><h4><span id="安装步骤">安装步骤</span></h4><figure class="highlight awk"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs awk"><span class="hljs-number">1</span>) mkdir <span class="hljs-regexp">/opt/</span>jdk<br><span class="hljs-number">2</span>) 通过 xftp6 上传到 <span class="hljs-regexp">/opt/</span>jdk 下<br><span class="hljs-number">3</span>) cd <span class="hljs-regexp">/opt/</span>jdk<br><span class="hljs-number">4</span>) 解压 tar -zxvf jdk-<span class="hljs-number">8</span>u261-linux-x64.tar.gz<br><span class="hljs-number">5</span>) mkdir <span class="hljs-regexp">/usr/</span>local/java<br><span class="hljs-number">6</span>) mv <span class="hljs-regexp">/opt/</span>jdk<span class="hljs-regexp">/jdk1.8.0_261 /u</span>sr<span class="hljs-regexp">/local/</span>java<br><span class="hljs-number">7</span>) 配置环境变量的配置文件 vim <span class="hljs-regexp">/etc/</span>profile<br><span class="hljs-number">8</span>) export JAVA_HOME=<span class="hljs-regexp">/usr/</span>local<span class="hljs-regexp">/java/</span>jdk1.<span class="hljs-number">8.0</span>_261<br><span class="hljs-number">9</span>) export PATH=<span class="hljs-variable">$JAVA_HOME</span>/bin:<span class="hljs-variable">$PATH</span><br><span class="hljs-number">10</span>) source <span class="hljs-regexp">/etc/</span>profile [让新的环境变量生效]<br></code></pre></div></td></tr></table></figure>



<h4><span id="测试是否安装成功">测试是否安装成功</span></h4><p>编写一个简单的 Hello.java 输出”hello,world!”</p>
<h3><span id="tomcat-的安装">tomcat 的安装</span></h3><h4><span id="步骤">步骤</span></h4><figure class="highlight awk"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs awk"><span class="hljs-number">1</span>) 上传安装文件，并解压缩到<span class="hljs-regexp">/opt/</span>tomcat<br><br><span class="hljs-number">2</span>) 进入解压目录<span class="hljs-regexp">/bin , 启动 tomcat ./</span>startup.sh<br><br><span class="hljs-number">3</span>) 开放端口 <span class="hljs-number">8080</span> , 回顾 firewall-cmd<br></code></pre></div></td></tr></table></figure>



<h4><span id="测试是否安装成功">测试是否安装成功</span></h4><figure class="highlight awk"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs awk">在 windows、Linux 下 访问 http:<span class="hljs-regexp">//</span>linuxip:<span class="hljs-number">8080</span><br></code></pre></div></td></tr></table></figure>



<h3><span id="idea2020-的安装">idea2020 的安装</span></h3><h4><span id="步骤">步骤</span></h4><ol>
<li>下载地址: <a target="_blank" rel="noopener" href="https://www.jetbrains.com/idea/download/#section=windows">https://www.jetbrains.com/idea/download/#section=windows</a></li>
<li>解压缩到/opt/idea</li>
<li>启动 idea bin 目录下 ./idea.sh，配置 jdk</li>
<li>编写 Hello world 程序并测试成功！</li>
</ol>
<h3><span id="mysql57-的安装注意">mysql5.7 的安装（注意）</span></h3><h4><span id="步骤">步骤</span></h4><ol>
<li><p>  新建文件夹/opt/mysql，并cd进去</p>
</li>
<li><p>  运行wget <a target="_blank" rel="noopener" href="http://dev.mysql.com/get/mysql-5.7.26-1.el7.x86_64.rpm-bundle.tar%EF%BC%8C%E4%B8%8B%E8%BD%BDmysql%E5%AE%89%E8%A3%85%E5%8C%85">http://dev.mysql.com/get/mysql-5.7.26-1.el7.x86_64.rpm-bundle.tar，下载mysql安装包</a></p>
</li>
<li><p>  运行tar -xvf mysql-5.7.26-1.el7.x86_64.rpm-bundle.tar</p>
</li>
<li><p>  运行rpm -qa|grep mari，查询mariadb相关安装包（因为系统自带的mariadb与mysql冲突，所以要卸载）</p>
</li>
<li><p>  运行rpm -e –nodeps mariadb-libs，卸载</p>
</li>
<li><p>然后开始真正安装mysql，依次运行以下几条</p>
<ol>
<li>  rpm -ivh mysql-community-common-5.7.26-1.el7.x86_64.rpm</li>
<li>  rpm -ivh mysql-community-libs-5.7.26-1.el7.x86_64.rpm</li>
<li>  rpm -ivh mysql-community-client-5.7.26-1.el7.x86_64.rpm</li>
<li>  rpm -ivh mysql-community-server-5.7.26-1.el7.x86_64.rpm</li>
</ol>
</li>
<li><p>  运行systemctl start mysqld.service，启动mysql</p>
</li>
<li><p>然后开始设置root用户密码</p>
<ol>
<li><p>Mysql自动给root用户设置随机密码，运行grep “password” /var/log/mysqld.log可看到当前密码</p>
<p>  <img src="http://wangpeng-imgsubmit.oss-cn-hangzhou.aliyuncs.com/img/20210926205025.png" srcset="/img/loading.gif" lazyload alt="image-20210926205025123"></p>
</li>
</ol>
</li>
<li><p>  运行mysql -u root -p，用root用户登录，提示输入密码可用上述的，可以成功登陆进入mysql命令行</p>
</li>
<li><p>设置root密码，对于个人开发环境，如果要设比较简单的密码（<strong>生产环境服务器要设复杂密码</strong>），可以运行set global validate_password_policy=0; 提示密码设置策略。（validate_password_policy默认值1，）</p>
<p>  <img src="http://wangpeng-imgsubmit.oss-cn-hangzhou.aliyuncs.com/img/20210926205123.png" srcset="/img/loading.gif" lazyload alt="image-20210926205123758"></p>
</li>
<li><p>  设置密码 set password for ‘root‘@’localhost’ =password(‘wangpeng100’); 或者set password=password(‘wangpeng100’);</p>
</li>
<li><p>  运行flush privileges;使密码设置生效</p>
</li>
</ol>
<h3><span id="远程访问设置">远程访问设置</span></h3><ol>
<li>  防火墙打开3306端口firewall-cmd –zone=public –add-port=3306/tcp –permanent</li>
<li>  重启防火墙 firewall-cmd –reload</li>
<li>  查看是否开启 firewall-cmd –query-port=3306/tcp</li>
<li>  使用SQLyog，new一个连接，配置信息，连接上。</li>
</ol>
<img src="http://wangpeng-imgsubmit.oss-cn-hangzhou.aliyuncs.com/img/20210926205601.png" srcset="/img/loading.gif" lazyload alt="image-20210926205601618" style="zoom:50%;">




            </div>
            <hr>
            <div>
              <div class="post-metas mb-3">
                
                  <div class="post-meta mr-3">
                    <i class="iconfont icon-category"></i>
                    
                      <a class="hover-with-bg" href="/categories/Java%E5%90%8E%E7%AB%AF/">Java后端</a>
                    
                      <a class="hover-with-bg" href="/categories/Java%E5%90%8E%E7%AB%AF/Linux/">Linux</a>
                    
                  </div>
                
                
                  <div class="post-meta">
                    <i class="iconfont icon-tags"></i>
                    
                      <a class="hover-with-bg" href="/tags/Java/">Java</a>
                    
                      <a class="hover-with-bg" href="/tags/Linux/">Linux</a>
                    
                  </div>
                
              </div>
              
                <p class="note note-warning">
                  
                    本博客所有文章除特别声明外，均采用 <a target="_blank" href="https://creativecommons.org/licenses/by-sa/4.0/deed.zh" rel="nofollow noopener noopener">CC BY-SA 4.0 协议</a> ，转载请注明出处！
                  
                </p>
              
              
                <div class="post-prevnext">
                  <article class="post-prev col-6">
                    
                    
                      <a href="/2021/09/30/%E6%AF%95%E4%B8%9A%E8%AE%BE%E8%AE%A1Java%E5%90%8E%E7%AB%AF%E9%A1%B9%E7%9B%AE%E6%95%B4%E7%90%86/">
                        <i class="iconfont icon-arrowleft"></i>
                        <span class="hidden-mobile">毕业设计Java后端题目整理</span>
                        <span class="visible-mobile">上一篇</span>
                      </a>
                    
                  </article>
                  <article class="post-next col-6">
                    
                    
                      <a href="/2021/09/01/%E5%89%8D%E7%AB%AF%E6%A1%86%E6%9E%B6-LayUI/">
                        <span class="hidden-mobile">前端框架-LayUI</span>
                        <span class="visible-mobile">下一篇</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </article>
                </div>
              
            </div>

            
              <!-- Comments -->
              <article class="comments" id="comments" lazyload>
                
                  
                
                
  <div id="valine"></div>
  <script type="text/javascript">
    Fluid.utils.loadComments('#valine', function() {
      Fluid.utils.createScript('https://cdn.jsdelivr.net/npm/valine@1/dist/Valine.min.js', function() {
        var options = Object.assign(
          {"appId":"kKHw5YzfOlny9jMQJEjDkSBi-9Nh9j0Va","appKey":"3N5RE5Sl5hj96cTuho5YEMnY","path":"window.location.pathname","placeholder":"小伙伴们快来评论！","avatar":"retro","meta":["nick","mail","link"],"requiredFields":[],"pageSize":10,"lang":"zh-CN","highlight":true,"recordIP":true,"serverURLs":"https://kkhw5yzf.lc-cn-e1-shared.com","emojiCDN":null,"emojiMaps":null,"enableQQ":false},
          {
            el: "#valine",
            path: window.location.pathname
          }
        )
        new Valine(options);
        Fluid.utils.waitElementVisible('#valine .vcontent', () => {
          Fluid.plugins.initFancyBox('#valine .vcontent img:not(.vemoji)');
        })
      });
    });
  </script>
  <noscript>Please enable JavaScript to view the comments</noscript>


              </article>
            
          </article>
        </div>
      </div>
    </div>
    
      <div class="d-none d-lg-block col-lg-2 toc-container" id="toc-ctn">
        <div id="toc">
  <p class="toc-header"><i class="iconfont icon-list"></i>&nbsp;目录</p>
  <div class="toc-body" id="toc-body"></div>
</div>

      </div>
    
  </div>
</div>

<!-- Custom -->


    

    
      <a id="scroll-top-button" aria-label="TOP" href="#" role="button">
        <i class="iconfont icon-arrowup" aria-hidden="true"></i>
      </a>
    

    
      <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">搜索</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v"
                 for="local-search-input">关键词</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>
    

    
  </main>

  <footer class="text-center mt-5 py-3">
  <div class="footer-content">
    <span>Copyright© 2021 huanfenz</span>
  </div>
  

  

  
</footer>


  <!-- SCRIPTS -->
  
  <script  src="https://cdn.jsdelivr.net/npm/nprogress@0/nprogress.min.js" ></script>
  <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/nprogress@0/nprogress.min.css" />

  <script>
    NProgress.configure({"showSpinner":false,"trickleSpeed":100})
    NProgress.start()
    window.addEventListener('load', function() {
      NProgress.done();
    })
  </script>


<script  src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js" ></script>
<script  src="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/js/bootstrap.min.js" ></script>
<script  src="/js/events.js" ></script>
<script  src="/js/plugins.js" ></script>

<!-- Plugins -->


  <script  src="/js/local-search.js" ></script>



  
    <script  src="/js/img-lazyload.js" ></script>
  



  



  
    <script  src="https://cdn.jsdelivr.net/npm/tocbot@4/dist/tocbot.min.js" ></script>
  
  
    <script  src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3/dist/jquery.fancybox.min.js" ></script>
  
  
    <script  src="https://cdn.jsdelivr.net/npm/anchor-js@4/anchor.min.js" ></script>
  
  
    <script defer src="https://cdn.jsdelivr.net/npm/clipboard@2/dist/clipboard.min.js" ></script>
  






  <script  src="https://cdn.jsdelivr.net/npm/typed.js@2/lib/typed.min.js" ></script>
  <script>
    (function (window, document) {
      var typing = Fluid.plugins.typing;
      var title = document.getElementById('subtitle').title;
      
      typing(title)
      
    })(window, document);
  </script>





  

  
    <!-- MathJax -->
    <script>
      MathJax = {
        tex: {
          inlineMath: [['$', '$'], ['\\(', '\\)']]
        },
        loader: {
          load: ['ui/lazy']
        },
        options: {
          renderActions: {
            findScript: [10, doc => {
              document.querySelectorAll('script[type^="math/tex"]').forEach(node => {
                const display = !!node.type.match(/; *mode=display/);
                const math = new doc.options.MathItem(node.textContent, doc.inputJax[0], display);
                const text = document.createTextNode('');
                node.parentNode.replaceChild(text, node);
                math.start = { node: text, delim: '', n: 0 };
                math.end = { node: text, delim: '', n: 0 };
                doc.math.push(math);
              });
            }, '', false],
            insertedScript: [200, () => {
              document.querySelectorAll('mjx-container').forEach(node => {
                let target = node.parentNode;
                if (target.nodeName.toLowerCase() === 'li') {
                  target.parentNode.classList.add('has-jax');
                }
              });
            }, '', false]
          }
        }
      };
    </script>

    <script async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js" ></script>

  











<!-- 主题的启动项 保持在最底部 -->
<script  src="/js/boot.js" ></script>


</body>
</html>
